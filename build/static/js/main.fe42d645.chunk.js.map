{"version":3,"sources":["serviceWorker.js","components/Header/index.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","constants/routes.js","components/Sign/SignUp/index.js","components/Password/PasswordForget/index.js","components/Sign/SignIn/index.js","components/TweetPage/TweetCommentCard.js","components/TweetPage/TweetItem.js","components/TweetPage/TweetList.js","components/TweetPage/TweetInput.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/TweetPage/TweetPage.js","components/TweetPage/TweetPageByUser.js","components/Home/UserCard.js","components/Home/index.js","components/Password/PasswordChange/index.js","components/Account/userAccout.js","components/Account/index.js","components/Chat/UserCard.js","components/Chat/UserList.js","components/Chat/MessageCard.js","components/Chat/MessageList.js","components/Chat/ChatPage.js","components/Chat/index.js","components/Landing/index.js","components/Notification/NotificationCard.js","components/Notification/NotificationPage.js","components/Notification/index.js","components/ListOfUsers/UserCard.js","components/ListOfUsers/ListOfAllUser.js","components/ListOfUsers/ListOfUserPage.js","components/ListOfUsers/index.js","components/Sign/SignOut/index.js","components/Navigation/index.js","components/App/index.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Header","react_default","a","createElement","className","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","Object","assign","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","user","uid","once","snapshot","dbUser","val","objectSpread","emailVerified","doSendEmailVerification","sendEmailVerification","url","process","REACT_APP_CONFIRMATION_EMAIL_REDIRECT","doSignInWithGoogle","signInWithPopup","googleProvider","db","ref","concat","users","message","id","messages","tweet","tweets","chat","chats","notification","notifications","image","storage","images","app","initializeApp","serverValue","database","ServerValue","HOME","ACCOUNT","INITIAL_STATE","username","name","passwordOne","passwordTwo","isAdmin","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","possibleConstructorReturn","getPrototypeOf","call","onSubmit","event","_this$state","setState","set","src","notifId","push","key","update","history","ROUTES","code","preventDefault","onChange","defineProperty","target","value","onChangeCheckbox","checked","_this$state2","isInvalid","htmlFor","type","placeholder","disabled","SignUpLink","react_router_dom","to","SignUpForm","compose","withRouter","SignUpPage","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","SignInForm","SignInPage","PasswordForget_PasswordForgetLink","SignUp_SignUpLink","TweetCommentCard","comment","userRoute","text","TweetItem","onPressRetweet","onReTweet","onPressFavorite","onaddFavorite","pressFavorite","onChangeCommentText","commentText","onComment","onFollow","followState","followTexte","userId","follow","filter","rt","length","editText","_this$props","onRemoveTweet","dateFormat","moment","createdAt","fromNow","commentList","listCommentaire","values","alt","editedAt","onClick","like","tid","aria-hidden","map","TweetPage_TweetCommentCard","TweetList","_ref","TweetPage_TweetItem","reverse","TweetInput","onsubmit","onCreateTweet","onChangeText","replayText","onCloseText","AuthUserContext","withAuthentication","WithAuthentication","_React$Component","JSON","parse","localStorage","getItem","inherits","createClass","_this2","listener","setItem","stringify","removeItem","Session_context","Provider","withAuthorization","condition","WithAuthorization","apply","arguments","TweetPage","onListenForTweets","loading","orderByChild","limitToLast","limit","on","tweetsObject","tweetsList","keys","onListenForUserDataUpdate","openText","renderTweetInput","TweetPage_TweetInput","likes","child","isRetweet","followingId","vue","forEach","remove","splice","indexOf","TIMESTAMP","retweets","listreTweets","listFav","onEditTweet","tweetSnapshot","objectWithoutProperties","onReplyTweet","onOpenText","listRetweet","listLike","following","off","TweetPage_TweetList","TweetPageByUser","equalTo","UserCard","onSendPasswordResetEmail","listPhoto","style","width","bio","Grid","container","item","xs","Home_UserCard","components_TweetPage_TweetPage","TweetPage_TweetPageByUser","PasswordChangeForm","UserAccount","handleChangeUsername","handleUploadStart","isUploading","progress","handleProgress","handleUploadError","handleUploadSuccess","filename","avatar","getDownloadURL","avatarURL","changePasswordFrom","changePassword","PasswordChange","backgroundColor","color","pointer","lib_default","hidden","accept","storageRef","onUploadStart","onUploadError","onUploadSuccess","onProgress","userAccout","changeDis","onChangeChat","currentUserId","UserList","onSearch","Chat_UserCard","MessageCard","isSent","pictureSrc","MessageList","messageList","onChangeMessage","onSendMessage","Chat_MessageCard","mid","sentBy","ChatPage","onListenForUsers","usersObject","convertFirebaseObjectToArray","checkIfChatExist","chatid","context","find","element","targetId","chatId","onListenForMessage","undefined","messagelimit","chatObject","usersList","arrayFolow","isFollow","userObject","oldchatId","Chat_UserList","Chat_MessageList","contextType","chatPage","LandingPage","SignIn","NotificationCard","NotificationPage","notificationsObject","notificationsList","nid","Notification_NotificationCard","Notification","Notification_NotificationPage","ListOfAllUser","followingUser","ListOfUsers_UserCard","ListOfUserPage","ListOfUsers_ListOfAllUser","NavigationAuth","SignOut","NavigationNonAuth","Navigation","Navigation_NavigationAuth","Navigation_NavigationNonAuth","components_Header","components_Navigation","react_router","exact","path","component","HomePage","ListeAmisPage","AccountPage","ReactDOM","render","react_https_redirect_lib_default","components_App","document","getElementById","URL","href","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.fe42d645.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst Header = () => (\r\n    <header className=\"root\">\r\n\t\t  <h1>PWA twitter</h1>\r\n    </header>\r\n);\r\nexport default Header;","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n      {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n  );\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\n\r\nconst config = {\r\n\tapiKey: \"AIzaSyAe7hufjDHedAdKMIeT_MhjN_Oc1X34HoA\",\r\n\tauthDomain: \"superp2-8a0d2.firebaseapp.com\",\r\n\tdatabaseURL: \"https://superp2-8a0d2.firebaseio.com\",\r\n\tprojectId: \"superp2-8a0d2\",\r\n\tstorageBucket: \"superp2-8a0d2.appspot.com\",\r\n\tmessagingSenderId: \"499719922525\",\r\n\tappId: \"1:499719922525:web:cf330b8bb5ce987b\"\r\n};\r\n\r\nclass Firebase {\r\n\tconstructor() {\r\n\t\tapp.initializeApp(config);\r\n\r\n\t\tthis.serverValue = app.database.ServerValue;\r\n\t\t//this.emailAuthProvider = app.auth.EmailAuthProvider;\r\n\r\n\t\tthis.auth = app.auth();\r\n\t\tthis.db = app.database();\r\n\t\tthis.storage = app.storage();\r\n\r\n\r\n\t\t/*this.googleProvider = new app.auth.GoogleAuthProvider();*/\r\n\r\n\t}\r\n\r\n\r\n\tdoCreateUserWithEmailAndPassword = (email, password) =>\r\n\t\tthis.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n\tdoSignInWithEmailAndPassword = (email, password) =>\r\n\t\tthis.auth.signInWithEmailAndPassword(email, password);\r\n\r\n\tdoSignOut = () => this.auth.signOut();\r\n\r\n\tdoPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n\tdoPasswordUpdate = password =>\r\n\t\tthis.auth.currentUser.updatePassword(password);\r\n\r\n\tonAuthUserListener = (next, fallback) =>\r\n\t\tthis.auth.onAuthStateChanged(authUser => {\r\n\t\t\tif (authUser) {\r\n\t\t\t\tthis.user(authUser.uid)\r\n\t\t\t\t\t.once('value')\r\n\t\t\t\t\t.then(snapshot => {\r\n\t\t\t\t\t\tconst dbUser = snapshot.val();\r\n\t\t\t\t\t\tauthUser = {\r\n\t\t\t\t\t\t\tuid: authUser.uid,\r\n\t\t\t\t\t\t\temail: authUser.email,\r\n\t\t\t\t\t\t\temailVerified: authUser.emailVerified,\r\n\t\t\t\t\t\t\t...dbUser,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tnext(authUser);\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tfallback();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n\r\n\tdoSendEmailVerification = () =>\r\n\t\tthis.auth.currentUser.sendEmailVerification({\r\n\t\t  url: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT,\r\n\t\t});\r\n\r\n\t\r\n\tdoSignInWithGoogle = () =>\r\n\t\tthis.auth.signInWithPopup(this.googleProvider);\r\n\t\r\n\r\n\tuser = uid => this.db.ref(`users/${uid}`);\r\n\r\n\tusers = () => this.db.ref('users');\r\n\r\n\tmessage = id => this.db.ref(`messages/${id}`);\r\n\r\n\tmessages = () => this.db.ref('messages');\r\n\t\r\n\ttweet = id => this.db.ref(`tweets/${id}`);\r\n\r\n\ttweets = () => this.db.ref('tweets');\r\n\r\n\tchat = id => this.db.ref(`chats/${id}`);\r\n\r\n\tchats = () => this.db.ref(`chats`);\r\n\r\n\tnotification = id => this.db.ref(`notifications/${id}`);\r\n\r\n\tnotifications = () => this.db.ref(`notifications`);\r\n\r\n\timage = id => this.storage.ref(`images/${id}`);\r\n\r\n\timages = () => this.storage.ref(`images`);\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext, {withFirebase} from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","export const LANDING = '/';\r\nexport const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const HOME = '/home';\r\nexport const ACCOUNT = '/account';\r\nexport const PASSWORD_FORGET = '/pw-forget';\r\nexport const LISTEAMIS = '/messagerie';\r\nexport const USERTWEET = '/usertweet/:id?';\r\nexport const NOTIFICATION ='/notification';\r\nexport const LISTOFUSER ='/listofuser';","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst SignUpPage = () => (\r\n  <div>\r\n    <h1>Register</h1>\r\n    <SignUpForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  name: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  isAdmin: false,\r\n  error: null,\r\n};\r\n\r\nconst ERROR_CODE_ACCOUNT_EXISTS = 'le compte existe deja';\r\n\r\nconst ERROR_MSG_ACCOUNT_EXISTS = ` error`;\r\n\r\nclass SignUpFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n     onSubmit = event => {\r\n        const { username,name, email, passwordOne } = this.state;\r\n        this.props.firebase\r\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then(authUser => {\r\n                let uid=authUser.user.uid;\r\n                let src = \"https://firebasestorage.googleapis.com/v0/b/superp2-8a0d2.appspot.com/o/images%2Fdefault_photo%2F250px-Ouisticram-Pt.png?alt=media&token=c48c3326-e329-4faa-838c-40454802b632\";\r\n               this.setState({uid : uid})\r\n                return this.props.firebase.user(authUser.user.uid).set({\r\n                    username,\r\n                    name,\r\n                    email,\r\n                    uid,\r\n                    src,\r\n                });\r\n            })\r\n            .then(() => {\r\n                let notifId = this.props.firebase.notifications().push().key;\r\n                this.props.firebase.user(this.state.uid).update({\r\n                    notifId: notifId\r\n                });\r\n                return this.props.firebase.doSendEmailVerification();\r\n            })\r\n            .then(() => {\r\n                this.setState({ ...INITIAL_STATE });\r\n                this.props.history.push(ROUTES.ACCOUNT);\r\n            })\r\n            .catch(error => {\r\n                if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\r\n                error.message = ERROR_MSG_ACCOUNT_EXISTS;\r\n                }\r\n\r\n                this.setState({ error });\r\n            });\r\n\r\n        event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  onChangeCheckbox = event => {\r\n    this.setState({ [event.target.name]: event.target.checked });\r\n  };\r\n\r\n    render() {\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            passwordTwo,\r\n            error,\r\n            name,\r\n        } = this.state;\r\n\r\n        const   isInvalid =\r\n                passwordOne !== passwordTwo ||\r\n                passwordOne === '' ||\r\n                email === '' ||\r\n                name === '' ||\r\n                username === '';\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <div >\r\n                    <label htmlFor=\"username\"><b>User Name</b>\r\n                    <input name=\"username\"  value={username}  onChange={this.onChange} type=\"text\"  placeholder=\"Full Name\"   />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"name\"><b>Name</b>\r\n                    <input name=\"name\"  value={name}  onChange={this.onChange} type=\"text\"  placeholder=\" Name\"   />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"email\"><b>Email Address</b>\r\n                    <input name=\"email\" value={email} onChange={this.onChange} type=\"text\" placeholder=\"Email Address\"  />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"passwordOne\"><b>Password</b>\r\n                    <input name=\"passwordOne\" value={passwordOne} onChange={this.onChange} type=\"password\" placeholder=\"Password\"  />\r\n                    </label>\r\n\r\n                    <label htmlFor=\"passwordTwo\"><b>Confirm Password</b>\r\n                    <input name=\"passwordTwo\"  value={passwordTwo} onChange={this.onChange}  type=\"password\" placeholder=\"Confirm Password\"  />\r\n                    </label>\r\n\r\n                    <button  className=\"registerbtn\" disabled={isInvalid} type=\"submit\">\r\n                        Sign Up\r\n                    </button>\r\n                    {error && <p>{error.message}</p>}\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\n    const SignUpLink = () => (\r\n        <p>\r\n            Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n        </p>\r\n    );\r\n\r\nconst SignUpForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignUpFormBase);\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst PasswordForgetPage = () => (\r\n\t<div>\r\n\t\t<h1>PasswordForget</h1>\r\n\t\t<PasswordForgetForm />\r\n\t</div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n\temail: '',\r\n\terror: null,\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = event => {\r\n\t\tconst { email } = this.state;\r\n\r\n\t\tthis.props.firebase\r\n\t\t\t.doPasswordReset(email)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tonChange = event => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { email, error } = this.state;\r\n\r\n\t\tconst isInvalid = email === '';\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button disabled={isInvalid} type=\"submit\">\r\n\t\t\t\t\tReset My Password\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n\t<p>\r\n\t\t<Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n\t</p>\r\n);\r\n\r\nexport default PasswordForgetPage;\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { SignUpLink } from '../SignUp';\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\nimport { PasswordForgetLink } from '../../Password/PasswordForget';\r\n\r\n\tconst SignInPage = () => (\r\n\t\t\t<div >\r\n\t\t\t\t<h1>SignIn</h1>\r\n\t\t\t\t<SignInForm />\r\n\t\t\t\t<PasswordForgetLink />\r\n\t\t\t\t<SignUpLink />\r\n\t\t\t</div>\r\n\t);\r\n\r\nconst INITIAL_STATE = {\r\n\temail: '',\r\n\tpassword: '',\r\n\terror: null,\r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = event => {\r\n\t\tconst { email, password } = this.state;\r\n\t\tthis.props.firebase\r\n\t\t\t.doSignInWithEmailAndPassword(email, password)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t\tthis.props.history.push(ROUTES.HOME);\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tonChange = event => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { email, password, error } = this.state;\r\n\r\n\t\tconst isInvalid = password === '' || email === '';\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t\t<label htmlFor=\"email\"><b>Email</b>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={email}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t/></label>\r\n\t\t\t\t<label htmlFor=\"password\"><b>Password</b>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tvalue={password}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t/></label>\r\n\t\t\t\t<button className=\"registerbtn\" disabled={isInvalid} type=\"submit\">\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst SignInForm = compose(\r\n\twithRouter,\r\n\twithFirebase,\r\n)(SignInFormBase);\r\n\r\nexport default SignInPage;\r\n\r\nexport { SignInForm };","import React, {Component} from 'react'\r\nimport * as ROUTES from '../../constants/routes';\r\nimport {Link } from 'react-router-dom';\r\n\r\nclass TweetCommentCard extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {comment} = this.props\r\n        const userRoute = ROUTES.USERTWEET+\"/\"+comment.username;\r\n        return(\r\n            <li>\r\n                <div className=\"comment_body\">\r\n                    <div className=\"replied_to\">\r\n                        <p>\r\n                            <span className=\"user\">\r\n                                <Link to={userRoute}>@{comment.username}</Link>\r\n                            </span>\r\n                            {comment.text}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default TweetCommentCard;","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport TweetCommentCard from './TweetCommentCard';\r\n\r\nclass TweetItem extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst followState = this.props.follow.filter(rt => rt === this.props.tweet.userId).length === 0? true : false;\r\n\r\n\t\tthis.state = {\r\n\t\t\tname : this.props.name,\r\n\t\t\teditText: this.props.tweet.text,\r\n\t\t\tfollowTexte : (followState) ?   \"Unfollow\"  : \"Follow\",\r\n\t\t\tfollowState : followState,\r\n\t\t\tcommentText : ''\r\n\t\t};\r\n\t}\r\n\r\n\tonPressRetweet =() => {\r\n\t\tthis.props.onReTweet('\\n\\n@'+this.props.tweet.username+' '+this.props.tweet.text);\r\n\t}\r\n\r\n\tonPressFavorite =() => {\r\n\t\tthis.props.onaddFavorite(this.props.tweet, this.props.authUser);\r\n\t\tthis.setState({\r\n\t\t\tpressFavorite: true\r\n\t\t})\r\n\t}\r\n\r\n\tonChangeCommentText =event=>{\r\n\t\tthis.setState({ commentText: event.target.value });\r\n\t}\r\n\r\n\tonComment =() => {\r\n\t\tthis.props.onComment(this.props.tweet, this.props.authUser, this.state.commentText);\r\n\t}\r\n\r\n\t\r\n\tonFollow= () => {\r\n\t\tlet text = \"Follow\";\r\n\t\tif(!this.state.followState)\r\n\t\t{\r\n\t\t\ttext = \"Unfollow\";\r\n\t\t}\r\n\t\tthis.setState(state => ({\r\n\t\t\tfollowState: !state.followState,\r\n\t\t\tfollowTexte : text\r\n\t\t}));\r\n\t\tthis.props.onFollow(this.props.tweet.userId, this.props.authUser);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {  tweet, onRemoveTweet} = this.props;\r\n\t\tconst dateFormat = moment(tweet.createdAt).fromNow();\r\n\t\tconst commentList = tweet.listCommentaire ? Object.values(tweet.listCommentaire):null;\r\n\t\treturn (\r\n\t\t\t<div key={tweet.uid} className=\"root_Tweet_item\">\r\n\t\t\t\t<div className=\"user\">\r\n\t\t\t\t\t<span className=\"imgcontainer space\"> \r\n\t\t\t\t\t\t<img src={tweet.src} alt=\"Avatar\" className=\"avatar\" />  \r\n\t\t\t\t\t</span>  \r\n\t\t\t\t\t<span className=\"username space\">   {tweet.username}      {this.state.name}</span>\r\n          \t\t\t<span className=\"date space\">   {dateFormat}</span>\r\n\t\t\t\t\t{tweet.editedAt && <span>(Edited)</span>}\r\n\t\t\t\t\t<button className=\"signoutbutton\" type=\"button\" onClick={this.onFollow}>\r\n\t\t\t\t\t\t{this.state.followTexte}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3>{tweet.text}</h3>\r\n\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t<div className=\"rtGreen space\" onClick={this.onPressRetweet} >\r\n\t\t\t\t\t\t<span className='fa fa-retweet'></span>\r\n\t\t\t\t\t\t<span className=\"number\"> Retweet</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"favYellow space\" onClick={this.onPressFavorite} >\r\n\t\t\t\t\t\t<span className='fa fa-star'></span>\r\n\t\t\t\t\t\t<span className=\"number\">{tweet.like}   Like</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{tweet.userId === this.props.authUser.uid? (\r\n\t\t\t\t\t\t<div className=\" space\" onClick={() => onRemoveTweet(tweet.tid)} >\r\n\t\t\t\t\t\t\t<span className='fas fa-eraser'></span>\r\n\t\t\t\t\t\t\t<span className=\"number\">  Delete</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t): ('')}\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"stylish-input-group\">\r\n\t\t\t\t\t<input type=\"text\" className=\"search-bar\"  \r\n\t\t\t\t\t\tname='text'\r\n\t\t\t\t\t\tvalue = {this.state.commentText}\r\n\t\t\t\t\t\tonChange={this.onChangeCommentText}\r\n\t\t\t\t\tplaceholder=\"Comment\" />\r\n\t\t\t\t\t\t<span className=\"input-comment\">\r\n\t\t\t\t\t\t\t<button onClick={this.onComment} type=\"button\"> <i className=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i> </button>\r\n\t\t\t\t\t\t</span> \r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"new_comment\">\r\n\t\t\t\t\t<ul className=\"user_comment\">\t\r\n\t\t\t\t\t\t{commentList ?\r\n\t\t\t\t\t\t\tcommentList.map((comment, key)=>(\r\n\t\t\t\t\t\t\t\tkey>commentList.length-4? <TweetCommentCard \tkey={key} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomment={comment} />:''\r\n\t\t\t\t\t\t\t)) :''\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TweetItem;\r\n","import React from 'react';\r\n\r\nimport TweetItem from './TweetItem';\r\n\r\nconst TweetList = ({\r\n\tauthUser,\r\n\ttweets,\r\n\tonReTweet ,\r\n\tonaddFavorite,\r\n\tonRemoveTweet,\r\n\tonComment,\r\n\tonFollow,\r\n\tfollow,\r\n\tname,\r\n}) => (\r\n\t<div className=\"root_listTweet\">\r\n\t\t{tweets.map(tweet => (\r\n\t\t\t<TweetItem \tkey={tweet.tid}\r\n\t\t\t\t\t\tauthUser={authUser}\r\n\t\t\t\t\t\ttweet={tweet}\r\n\t\t\t\t\t\tname = {name}\r\n\t\t\t\t\t\tonReTweet ={onReTweet}\r\n\t\t\t\t\t\tonaddFavorite={onaddFavorite}\r\n\t\t\t\t\t\tonRemoveTweet={onRemoveTweet}\r\n\t\t\t\t\t\tonFollow = {onFollow}\r\n\t\t\t\t\t\tfollow = {follow}\r\n\t\t\t\t\t\tonComment= {onComment}\r\n\t\t\t/>\r\n\t\t)).reverse()}\r\n\t</div>\r\n);\r\n\r\nexport default TweetList;\r\n","import React, {Component} from 'react';\r\n\r\n\r\nclass TweetInput extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            text: (this.props.replayText) ?  `${this.props.replayText} `  : '',\r\n        }\r\n    };\r\n\r\n    onsubmit = event =>{\r\n        this.props.onCreateTweet(event)\r\n        this.setState({ text: '' });\r\n    }\r\n\r\n    onChangeText = event =>\r\n    {\r\n        this.setState({ text: event.target.value });\r\n        this.props.onChangeText(event.target.value);\r\n    }\r\n    \r\n    render()\r\n    {\r\n        const { text  } = this.state;\r\n        return(\r\n            <form onSubmit={this.onsubmit}>\r\n                <textarea className=\"tweet_text\" \r\n                        name='text'\r\n                        value={text}\r\n                        onChange={this.onChangeText}\r\n                >\r\n                </textarea>\r\n                <div className=\"tweet_button\">\r\n                    <button className=\"tweet_close\" \r\n                            onClick={this.props.onCloseText} >\r\n                        Close\r\n                    </button>\r\n                    <button className=\"tweet_send\" type='submit'> Send </button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default  TweetInput;","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: JSON.parse(localStorage.getItem('authUser')),\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.onAuthUserListener(\r\n        authUser => {\r\n          localStorage.setItem('authUser', JSON.stringify(authUser));\r\n          this.setState({ authUser });\r\n        },\r\n        () => {\r\n          localStorage.removeItem('authUser');\r\n          this.setState({ authUser: null });\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n\r\n\r\n    \r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      \r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\r\n        if (!condition(authUser)) {\r\n          this.props.history.push(ROUTES.SIGN_IN);\r\n        }\r\n      });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {authUser =>\r\n            condition(authUser) ? <Component {...this.props} /> : null\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React, { Component } from \"react\"\r\nimport { withFirebase } from '../Firebase';\r\nimport TweetList from './TweetList';\r\nimport TweetInput from \"./TweetInput\";\r\nimport { withAuthorization } from '../Session';\r\nimport { compose } from 'recompose';\r\n\r\nclass TweetPage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { \r\n            text: '',\r\n            loading: false,\r\n            tweets: [],\r\n            limit: 15, \r\n            openText: false,\r\n            replayText: '',\r\n            isRetweet:true,\r\n            retweets: (this.props.authUser.listRetweet) ?  Object.values(this.props.authUser.listRetweet)  : [],\r\n            likes: (this.props.authUser.listLike) ?  Object.values(this.props.authUser.listLike)  : [],\r\n            follow: (this.props.authUser.following) ?  Object.values(this.props.authUser.following)  : [],\r\n            authUser :  this.props.authUser,\r\n        }   \r\n    };\r\n  \r\n    componentDidMount() {\r\n        this.onListenForTweets();\r\n        this.onListenForUserDataUpdate();\r\n    };\r\n\r\n    onListenForTweets = () => {\r\n        this.setState({ loading: true });\r\n\r\n        this.props.firebase.tweets()\r\n            .orderByChild('createdAt')\r\n            .limitToLast(this.state.limit)\r\n            .on('value', snapshot => {\r\n                    const tweetsObject = snapshot.val();\r\n                    if (tweetsObject) {\r\n                        const tweetsList = Object.keys(tweetsObject).map(key => ({\r\n                            ...tweetsObject[key],\r\n                            tid: key,\r\n                        }));\r\n                    \r\n                        this.setState({\r\n                            tweets: tweetsList,\r\n                            loading: false,\r\n                        });\r\n                    } else {\r\n                        this.setState({ tweets: null, loading: false });\r\n                    }\r\n\r\n            });     \r\n            \r\n            \r\n        \r\n    };\r\n\r\n\r\n    onListenForUserDataUpdate=()=>{\r\n        this.props.firebase.user(this.state.authUser.uid).on('value', snapshot=>\r\n        {\r\n            this.setState({\r\n                authUser:snapshot.val(),\r\n            });\r\n        });\r\n           \r\n    }\r\n    \r\n    onCloseText = (event) => {\r\n        event.preventDefault()\r\n        this.setState({ openText: false, replayText:'' })\r\n      }\r\n\r\n    renderTweetInput = () => {\r\n        if (this.state.openText) {\r\n            return (\r\n                    <TweetInput\r\n                        authUser={this.state.authUser}\r\n                        onChangeText={this.onChangeText}\r\n                        onCreateTweet={this.onCreateTweet}\r\n                        text = {this.state.text}\r\n                        onCloseText={this.onCloseText}\r\n                        replayText = {this.state.replayText}\r\n                    />\r\n            )\r\n        }\r\n    };\r\n\r\n\r\n    onaddFavorite = (tweet, user) =>{\r\n        if (this.state.likes.filter(rt => rt === tweet.tid).length === 0 )\r\n        {   \r\n            this.props.firebase.tweet(tweet.tid).child('listLike').push({\r\n                userId: user.uid,\r\n                username: user.username,\r\n            });\r\n            tweet.like++;\r\n            this.props.firebase.tweet(tweet.tid).child('like').set(tweet.like);\r\n            this.props.firebase.user(user.uid).child('listLike').push(tweet.tid);\r\n            this.state.likes.push(tweet.tid);\r\n        }\r\n    }\r\n\r\n  \r\n    onReTweet = (replayText) =>{   \r\n        this.setState({ \r\n            openText: true,\r\n            replayText,\r\n            isRetweet:true\r\n        });        \r\n    }\r\n    \r\n    onFollow= (followingId, user) =>{\r\n        if (this.state.follow.filter(rt => rt === followingId).length === 0 )\r\n        {   \r\n            this.props.firebase.user(followingId).child('followers').push(user.uid);\r\n            this.props.firebase.user(user.uid).child('following').push(followingId);\r\n            this.props.firebase.notification(user.notifId).push({\r\n                uid : user.uid,\r\n                message : \"l'utilisateur vous a follow\",\r\n                vue : false,\r\n            })\r\n            this.state.follow.push(followingId);\r\n        }else{\r\n            this.props.firebase.user(followingId).child(\"followers\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===user.uid)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            this.props.firebase.user(user.uid).child(\"following\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===followingId)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            \r\n            this.state.follow.splice(this.state.follow.indexOf(followingId), 1);\r\n        }\r\n    }\r\n\r\n    onCreateTweet = (event) => {\r\n        let key = this.props.firebase.tweets().push({\r\n            text: this.state.text,\r\n            userId: this.state.authUser.uid,\r\n            username: this.state.authUser.username,\r\n            createdAt: this.props.firebase.serverValue.TIMESTAMP,\r\n            src: this.state.authUser.src,\r\n            like: 0,\r\n            retweets: 0,\r\n            listreTweets:[],\r\n            listFav:[],\r\n        }).key;\r\n\r\n        this.props.firebase.user(this.state.authUser.uid).child('myTweet').push(key);\r\n        this.setState({ text: '', openText: false });\r\n        event.preventDefault();\r\n    };\r\n\r\n    onEditTweet = (tweet, text) => {\r\n        const { tid, ...tweetSnapshot } = tweet;\r\n\r\n        this.props.firebase.tweet(tweet.tid).set({\r\n            ...tweetSnapshot,\r\n            text,\r\n            editedAt: this.props.firebase.serverValue.TIMESTAMP,\r\n        });\r\n    };    \r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.tweets().off();\r\n    };\r\n\r\n    onRemoveTweet = tid => {\r\n        this.props.firebase.tweet(tid).remove();\r\n    };\r\n\r\n    onReplyTweet = (replayText) =>{\r\n        this.setState({ \r\n            openText: true,\r\n            replayText\r\n        });\r\n    }\r\n\r\n    onChangeText = value => {\r\n        this.setState({ text: value });\r\n    };\r\n\r\n    onOpenText  = event =>{\r\n        event.preventDefault()\r\n        this.setState({ openText: true})\r\n    }\r\n\r\n    onComment = (tweet, user, commentText) =>{\r\n        this.props.firebase.tweet(tweet.tid).child('listCommentaire').push({\r\n            text: commentText,\r\n            userId: user.uid,\r\n            src: user.src,\r\n            username: user.username,\r\n            createdAt: this.props.firebase.serverValue.TIMESTAMP,\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { tweets, loading, authUser, follow,name } = this.state;\r\n        return (\r\n                <div>\r\n                    {loading && <div>Loading ...</div>}  \r\n                    <div className=\"root_Tweet_item\">\r\n                        <button onClick={this.onOpenText} className=\"open_button_tweet\">\r\n                            <span className='fa fa-lg fa-edit'></span> Tweet!\r\n                        </button>\r\n                        {this.renderTweetInput()}\r\n                    </div>\r\n                    {tweets && (\r\n                        <TweetList\r\n                            authUser={authUser}\r\n                            tweets={tweets}\r\n                            name = {name}\r\n                            onEditTweet={this.onEditTweet}\r\n                            onRemoveTweet={this.onRemoveTweet}\r\n                            onReTweet ={this.onReTweet}\r\n                            onaddFavorite={this.onaddFavorite}\r\n                            onReplyTweet={this.onReplyTweet}\r\n                            onFollow = {this.onFollow}\r\n                            follow = {follow}\r\n                            onComment={this.onComment}\r\n                        />\r\n                    )}\r\n\r\n                    {!tweets && <div>Aucun tweet trouver ...</div>}\r\n                \r\n\r\n                    \r\n                </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default compose(\r\n    withFirebase,\r\n\twithAuthorization(condition),\r\n)(TweetPage);\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom'\r\nimport { withFirebase } from '../Firebase';\r\n//import TweetList from './TweetList';\r\n//import TweetInput from \"./TweetInput\";\r\nimport { withAuthorization } from '../Session';\r\nimport { compose } from 'recompose';\r\n\r\n\r\nclass TweetPageByUser extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            authUser : this.props.authUser,\r\n            limit : 5\r\n        }\r\n        console.log(this.location)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onListenForTweets();\r\n    };\r\n\r\n    onListenForTweets = () => {\r\n        this.setState({ loading: true });\r\n        this.props.firebase.tweets()\r\n            .orderByChild('userId')\r\n            .equalTo(this.state.authUser.uid)\r\n            .limitToLast(this.state.limit)\r\n            .on('value', snapshot => {\r\n                    const tweetsObject = snapshot.val();\r\n                    if (tweetsObject) {\r\n                        const tweetsList = Object.keys(tweetsObject).map(key => ({\r\n                            ...tweetsObject[key],\r\n                            tid: key,\r\n                        }));\r\n                        this.setState({\r\n                            tweets: tweetsList,\r\n                            loading: false,\r\n                        });\r\n                    } else {\r\n                        this.setState({ tweets: null, loading: false });\r\n                    }\r\n            });    \r\n    };\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.tweets().off();\r\n    };\r\n\r\n    render(){\r\n        return(\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default compose(\r\n    withFirebase,\r\n    withRouter,\r\n\twithAuthorization(condition),\r\n)(TweetPageByUser);","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport {Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nclass UserCard extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\t\t\r\n\t\tthis.state = {\r\n\t\t\tuser: this.props,\r\n\t\t};   \r\n\t}\r\n\t\r\n\tonSendPasswordResetEmail = () => {\r\n\t\tthis.props.firebase.doPasswordReset(this.state.user.email);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { user } = this.state ||  [];\r\n\t\tlet  listPhoto = (user.listPhoto) ?  Object.values(user.listPhoto)  : [] ;\r\n\t\tconst userRoute = ROUTES.USERTWEET+\"/\"+user.username;\r\n\t\treturn (\r\n\t\t\t<div className=\"card\">\r\n\t\t\t\t<Link to={ROUTES.ACCOUNT}>\r\n\t\t\t\t\t<img src={user.src} alt=\"singe\" style={{ width:'100%' }}/>  \r\n\t\t\t\t</Link>\r\n\t\t\t\t<h1>\r\n\t\t\t\t\t<Link to={userRoute}>\r\n\t\t\t\t\t\t{user.name}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</h1>\r\n\t\t\t\t<p className=\"title\">\r\n\t\t\t\t\t<Link to={userRoute}>\r\n\t\t\t\t\t\t@{user.username}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>{user.bio}</p>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t{listPhoto.map(message => (\r\n\t\t\t\t\t\t<Grid item xs={4} key={message.url}>\r\n\t\t\t\t\t\t\t<img src={message.url} alt=\"User_card_P\" className=\"user_card_P\" />   \r\n\t\t\t\t\t\t</Grid>\t\r\n\t\t\t\t\t))}\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withFirebase(UserCard);","import React from 'react';\r\nimport {TweetPage,TweetPageByUser} from '../TweetPage';\r\nimport { compose } from 'recompose';\r\nimport { AuthUserContext } from '../Session';\r\nimport { withAuthorization } from '../Session';\r\nimport  UserCard  from './UserCard';\r\nconst HomePage = () => (\r\n\t<div>\r\n\t\t<AuthUserContext.Consumer>\r\n\t\t\t{authUser => (\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"leftcolumn\">\r\n\t\t\t\t\t \t<UserCard {...authUser}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rightcolumn\">\r\n\t\t\t\t\t\t<TweetPage authUser = {authUser} />\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<div className=\"rightcolumn\">\r\n\t\t\t\t\t\t<TweetPageByUser authUser = {authUser} />\r\n\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</AuthUserContext.Consumer>\r\n\t\t\t\r\n\t</div>\r\n);\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default compose(\r\n\twithAuthorization(condition),\r\n)(HomePage);\r\n\r\n","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordChangeForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n  \tonSubmit = event => {\r\n\t\tconst { passwordOne } = this.state;\r\n\r\n\t\tthis.props.firebase\r\n\t\t\t.doPasswordUpdate(passwordOne)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n  \t};\r\n\r\n\tonChange = event => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { passwordOne, passwordTwo, error } = this.state;\r\n\r\n\t\tconst isInvalid =\r\n\t\tpasswordOne !== passwordTwo || passwordOne === '';\r\n\r\n\t\treturn (\r\n\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t<input\r\n\t\t\t\tname=\"passwordOne\"\r\n\t\t\t\tvalue={passwordOne}\r\n\t\t\t\tonChange={this.onChange}\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tplaceholder=\"New Password\"\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\tname=\"passwordTwo\"\r\n\t\t\t\tvalue={passwordTwo}\r\n\t\t\t\tonChange={this.onChange}\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tplaceholder=\"Confirm New Password\"\r\n\t\t\t/>\r\n\t\t\t<button className=\"open_button_tweet\" disabled={isInvalid} type=\"submit\">\r\n\t\t\t\tReset My Password\r\n\t\t\t</button>\r\n\r\n\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t\r\n\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);","import React, { Component } from \"react\";\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport PasswordChangeForm from '../Password/PasswordChange';\r\n\r\n\r\nclass UserAccount extends Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          text: '',\r\n          loading: false,\r\n          messages: [],\r\n          limit: 5,\r\n          user : props.authUser,\r\n          avatarURL :  props.authUser.src,\r\n          name : props.authUser.name, \r\n          username : props.authUser.username, \r\n          email : props.authUser.email, \r\n          bio : props.authUser.bio, \r\n          changePassword: false,\r\n        };\r\n      }\r\n    handleChangeUsername = event => this.setState({ username: event.target.value });\r\n    handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\r\n    handleProgress = progress => this.setState({ progress });\r\n    handleUploadError = error => {\r\n        this.setState({ isUploading: false });\r\n    };\r\n    handleUploadSuccess = filename => {\r\n        this.setState({ avatar: filename, progress: 100, isUploading: false });\r\n        this.props.firebase\r\n        .image(this.state.user.uid+'/'+filename)\r\n        .getDownloadURL()\r\n        .then(url => {\r\n            let user = this.state.user;\r\n            this.props.firebase.user(user.uid).child('listPhoto').push({url : url});\r\n            this.props.firebase.user(user.uid).update({src : url});\r\n            this.setState({ avatarURL : url})\r\n        });\r\n    };\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n      }; \r\n\r\n    onSubmit = event => {\r\n        const { username,name, email, bio } = this.state;\r\n        let user = this.state.user;\r\n        user.username = username;\r\n        user.name =  name;\r\n        user.email =   email;\r\n        user.bio = bio;\r\n        this.props.firebase.user(this.state.user.uid).set({\r\n            ...this.state.user\r\n        }).then(() => {\r\n            this.setState({  user : user})\r\n        });\r\n        event.preventDefault();\r\n    };\r\n\r\n    changePasswordFrom= ()=>{\r\n        if(this.state.changePassword)\r\n        {\r\n            return(<PasswordChangeForm/>)\r\n        }\r\n    }\r\n\r\n    changePassword = () =>{\r\n        console.log(\"ee\")\r\n        this.setState({\r\n            changePassword : !this.state.changePassword\r\n        })\r\n    }\r\n    \r\n    render()\r\n    {\r\n        const {user} = this.state;\r\n        return (\r\n            <div>    \r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"imgcontainer\">\r\n                        <img src={this.state.avatarURL} alt=\"Avatar\" className=\"avatar_cardVersion\" />\r\n                    </div>\r\n                    <div  className=\"container\">\r\n                        <label htmlFor=\"username\"><b>Nickname</b>\r\n                        <input name=\"username\"  value={this.state.username}  onChange={this.onChange} type=\"text\"  placeholder=\"Full Name\"   />\r\n                        </label>\r\n\r\n                        <label htmlFor=\"name\"><b>Name</b>\r\n                        <input name=\"name\"  value={this.state.name}  onChange={this.onChange} type=\"text\"  placeholder=\" Name\"   />\r\n                        </label>\r\n\r\n                        <label htmlFor=\"email\"><b>Email Address</b>\r\n                        <input name=\"email\" value={this.state.email} onChange={this.onChange} type=\"text\" placeholder=\"Email Address\"  />\r\n                        </label>\r\n\r\n                        <label htmlFor=\"bio\"><b>bio</b>\r\n                        <textarea \r\n                                name='bio'\r\n                                value={this.state.bio}\r\n                                onChange={this.onChange}\r\n                        ></textarea>\r\n                    </label>\r\n\r\n                        <label className=\"open_button_tweet\" style={{backgroundColor: 'steelblue', color: 'white', width:'100%' , pointer: 'cursor'}}>\r\n                            Select your awesome avatar\r\n                            <FileUploader\r\n                            hidden\r\n                            accept=\"image/*\"\r\n                            storageRef={this.props.firebase.image(user.uid)}\r\n                            onUploadStart={this.handleUploadStart}\r\n                            onUploadError={this.handleUploadError}\r\n                            onUploadSuccess={this.handleUploadSuccess}\r\n                            onProgress={this.handleProgress}\r\n                            />\r\n                        </label>\r\n                        <br/>\r\n                        <br/>\r\n\r\n                        <button  className=\"registerbtn\"  type=\"submit\">\r\n                            Valider\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\t\t\t    <div  className=\"container\">\r\n                    <button onClick={this.changePassword} className=\"open_button_tweet\">\r\n                        Change password\r\n                    </button>\r\n                    {this.changePasswordFrom()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withFirebase(UserAccount);","import React from 'react';\r\n\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\n\r\nimport UserAccount from \"./userAccout\";\r\nconst AccountPage = () => (\r\n     <AuthUserContext.Consumer> \r\n      {authUser => (\r\n            <UserAccount authUser = {authUser}/>\r\n        )}\r\n     </AuthUserContext.Consumer>\r\n);\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(AccountPage);","import React,{Component} from \"react\";\r\n\r\nclass UserCard extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        this.state={\r\n            user : this.props.user,\r\n            followState : this.props.currentUserId,\r\n        }\r\n    }\r\n\r\n    changeDis = ()=>{\r\n        this.props.onChangeChat(this.state.user.uid)\r\n    }\r\n\r\n    render()\r\n    {\r\n        const {user} = this.state;\r\n        return(\r\n            <div key={user.uid} value={user.username} onClick={this.changeDis} style={{backgroundColor: this.props.currentUserId===user.uid? \"lightblue\" :\"lightgreen\"  }}  className=\"chat_list\">\r\n                <div className=\"chat_people\" >\r\n                    <div className=\"chat_img\"> <img className=\"avatar\" src={user.src} alt=\"sunil\"/> </div>\r\n                    <div className=\"chat_ib\">\r\n                        <h5>{user.username} <span className=\"chat_date\"> </span></h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserCard;  ","import React,{Component} from 'react';\r\nimport UserCard from './UserCard';\r\n\r\nclass UserList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuser : props.authUser,\r\n\t\t\ttext :''\r\n\t\t};\r\n\t}\r\n\r\n\tonChangeText = value =>{\r\n        this.setState({ text: value.target.value });\r\n\t\tthis.props.onChangeText(value);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {text } = this.state;\r\n\t\tconst {users} = this.props;\r\n\t\treturn (\r\n\t\t\t<div className= \"inbox_people\">\r\n\t\t\t\t<div className=\"headind_srch\">\r\n\t\t\t\t\t<div className=\"recent_heading\">\r\n\t\t\t\t\t\t<h4>Recent</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"srch_bar\">\r\n\t\t\t\t\t\t<div className=\"stylish-input-group\">\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\t\tclassName=\"search-bar\"  \r\n\t\t\t\t\t\t\t\t\t\tname='text'\r\n\t\t\t\t\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeText}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search\" />\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<span className=\"input-group-addon\">\r\n\t\t\t\t\t\t\t\t<button onClick={this.props.onSearch} type=\"button\"> <i className=\"fa fa-search\" aria-hidden=\"true\"></i> </button>\r\n\t\t\t\t\t\t\t</span> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inbox_chat\">\r\n\t\t\t\t\t{users.map(user => (\r\n\t\t\t\t\t\t<div key={user.uid}>\t\r\n\t\t\t\t\t\t\t{user.uid!==this.state.user.uid? <UserCard  authUser={this.state.user} user = {user} onChangeChat={this.props.onChangeChat} currentUserId = {this.props.currentUserId}/> : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UserList;","import React, {Component}   from 'react';\r\nimport moment from 'moment';\r\n\r\nclass MessageCard extends Component\r\n{\r\n    render(){\r\n        const isSent = this.props.isSent;\r\n        const dateFormat = moment(this.props.message.createdAt).fromNow();\r\n        return(\r\n            <div className={isSent? \"outgoing_msg\" : \"incoming_msg\" }>\r\n                    {isSent? \"\" : \r\n                        <div className=\"incoming_msg_img\"> \r\n                            <img className=\"avatar\" src={this.props.pictureSrc} alt=\"sunil\"/> \r\n                        </div> }\r\n                <div className={isSent? \"sent_msg\" : \"received_msg\" } >\r\n                    <div className={isSent? \"\" : \"received_withd_msg\" } >\r\n                        <p>{this.props.message.text}</p>\r\n                        <span className=\"time_date\"> {dateFormat} </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MessageCard;","import React from \"react\";\r\nimport MessageCard from \"./MessageCard\";\r\n\r\nconst MessageList = ({\r\n\tauthUser,\r\n\tcurrentUser,\r\n    messageList,\r\n    onChangeMessage,\r\n    message,\r\n    onSendMessage,\r\n}) => (\r\n\t<div className=\"mesgs\">\r\n        <div className=\"msg_history\">\r\n            {messageList.map(message =>(\r\n                <MessageCard key={message.mid} \r\n                            message = {message}\r\n                            isSent ={authUser.uid===message.sentBy ? true : false}\r\n                            pictureSrc = {currentUser.src}     />\r\n            ))} \r\n        </div>\r\n        <div className=\"type_msg\">\r\n            <div className=\"input_msg_write\">\r\n                <label>\r\n                    <input  type=\"text\" \r\n                            className=\"write_msg\" \r\n                            placeholder=\"Type a message\"\r\n                            value={message}\r\n                            onChange={onChangeMessage} />\r\n                </label>\r\n                <button onClick={onSendMessage}  className=\"msg_send_btn\" type=\"button\"><i className=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n\r\n\r\n\r\nexport default MessageList;","import React, {Component} from 'react'\r\nimport {withFirebase} from '../Firebase'\r\nimport UserList from './UserList';\r\nimport MessageList from './MessageList';\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\n\r\nimport { compose } from 'recompose';\r\n\r\nclass ChatPage extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            messageList : [],\r\n            limit : 20,\r\n            users:[],\r\n            currentUser:{},\r\n            message:'',\r\n            chatId:'',\r\n            messagelimit: 30,\r\n            oldchatId:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onListenForUsers();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.firebase.users().off();\r\n\t}\r\n\r\n\tonListenForUsers = () => {\r\n        this.props.firebase.users()\r\n            .limitToLast(this.state.limit)\r\n            .once('value', snapshot => {\r\n                const usersObject = snapshot.val();    \r\n            this.convertFirebaseObjectToArray(usersObject)\r\n        }).then(()=>{\r\n            this.checkIfChatExist();\r\n            // eslint-disable-next-line \r\n            const chatid = Object.values(this.context.chat).find(element => {\r\n                if(this.state.currentUser.uid===element.targetId)\r\n                {   \r\n                    return element; \r\n                }\r\n            })\r\n            this.setState({\r\n                chatId: chatid.chatId\r\n            });\r\n        }).then(() => {\r\n            this.onListenForMessage()\r\n        });        \r\n    };\r\n\r\n\r\n    checkIfChatExist = ()=>{\r\n        if(this.context.chat === undefined || Object.values(this.context.chat).filter(rt => rt.targetId === this.state.currentUser.uid).length === 0 ){\r\n            let chatid = this.props.firebase.chats().push().key;\r\n            this.props.firebase.user(this.context.uid).child(\"chat\").push({\r\n                chatId :chatid,\r\n                targetId : this.state.currentUser.uid\r\n            })\r\n            this.props.firebase.user(this.state.currentUser.uid ).child(\"chat\").push({\r\n                chatId :chatid,\r\n                targetId : this.context.uid\r\n            })\r\n            this.context.chat = {\r\n                chatid :{\r\n                    chatId : chatid,\r\n                    targetId : this.state.currentUser.uid\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    onListenForMessage = () => {\r\n        this.props.firebase.chat(this.state.chatId)\r\n            .limitToLast(this.state.messagelimit)\r\n            .on('value', snapshot => {\r\n                if(snapshot.key === this.state.chatId)\r\n                {\r\n                    const chatObject = snapshot.val();    \r\n                    if (chatObject) {\r\n                        const messageList = Object.keys(chatObject).map(key => ({\r\n                            ...chatObject[key],\r\n                            mid: key,\r\n                        }));\r\n                        this.setState({\r\n                            messageList : messageList,\r\n                        });\r\n                    } else {\r\n                        this.setState({ messageList : [] });\r\n                    }\r\n                }\r\n            });    \r\n    };\r\n\r\n    \r\n\tonSearch= ()=>{\r\n        this.props.firebase.users().orderByChild('username').equalTo(this.state.text).once(\"value\", snapshot=>{\r\n            const usersObject = snapshot.val();\r\n            this.convertFirebaseObjectToArray(usersObject)\r\n        }).then(() => {\r\n            this.props.firebase.users().off();\r\n        });\r\n    }\r\n    \r\n\r\n\t\r\n\tconvertFirebaseObjectToArray = usersObject =>\r\n    {\r\n        if (usersObject) {\r\n            const usersList = Object.keys(usersObject).map(key => ({\r\n                ...usersObject[key],\r\n                uid: key,\r\n            }));\r\n            const arrayFolow=(this.context.following) ?  Object.values(this.context.following)  : [];\r\n            usersList.forEach(value =>{\r\n                    value.isFollow = false;\r\n                    if (arrayFolow.filter(rt => rt === value.uid).length === 0 )\r\n                    {   \r\n                        value.isFollow = true;\r\n                    }\r\n                }\r\n            )\r\n            if(usersList.length > 0){\r\n                this.setState({\r\n                    users: usersList,\r\n                    currentUser:usersList[0],\r\n                    currentUserId: usersList[0].uid\r\n                });\r\n            }else{\r\n                this.setState({\r\n                    users: usersList\r\n                });\r\n            }\r\n           \r\n        } else {\r\n            this.setState({ users: [], currentUser:{} });\r\n        }\r\n    }\r\n    onChangeText = value =>{\r\n        this.setState({ text: value.target.value });\r\n        if( value.target.value ==='')\r\n        {\r\n            this.onListenForUsers();\r\n        }\r\n    }\r\n\r\n    onChangeMessage = value =>{\r\n        this.setState({ message: value.target.value });\r\n    }\r\n\r\n    onSendMessage = ()=>{\r\n        this.props.firebase.chat(this.state.chatId).push({\r\n            text : this.state.message,\r\n            createdAt: this.props.firebase.serverValue.TIMESTAMP,\r\n            sentBy : this.context.uid\r\n        });\r\n    }\r\n\r\n    \r\n    onChangeChat = (uid) =>{\r\n        this.props.firebase.chat(this.state.currentUserId).off('value');\r\n        this.setState({ currentUserId: uid});\r\n        this.props.firebase.user(uid)\r\n            .once('value', snapshot => {\r\n                const userObject = snapshot.val();    \r\n                if (userObject) {\r\n                    this.setState({\r\n                        currentUser:userObject,\r\n                        currentUserId: userObject.uid\r\n                    });\r\n                   \r\n                } else {\r\n                    this.setState({\r\n                        currentUser: this.state.usersList[0],\r\n                        currentUserId:  this.state.usersList[0].uid\r\n                    });\r\n                }\r\n        }).then(()=>{\r\n            this.checkIfChatExist();\r\n            // eslint-disable-next-line \r\n            const chatid = Object.values(this.context.chat).find(element => {\r\n                if(this.state.currentUser.uid===element.targetId)\r\n                {   \r\n                    return element; \r\n                }\r\n            })\r\n            this.setState({\r\n                chatId: chatid.chatId\r\n            });\r\n        }).then(() => {\r\n            this.onListenForMessage()\r\n        });       \r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div className=\"messaging\">\t\r\n\t\t\t\t<div className=\"inbox_msg\">\r\n\t\t\t\t\t< UserList \tusers = {this.state.users}\r\n\t\t\t\t\t\t\t\tonSearch = {this.onSearch}\r\n                                authUser = {this.context}\r\n                                currentUserId ={this.state.currentUserId} \r\n                                onChangeText = {this.onChangeText}\r\n                                onChangeChat = {this.onChangeChat}\r\n\t\t\t\t\t/>  \r\n                    < MessageList   messageList = {this.state.messageList}\r\n                                    authUser = {this.context}\r\n                                    currentUser = {this.state.currentUser}\r\n                                    onChangeMessage={this.onChangeMessage}\r\n                                    message = {this.state.message}\r\n                                    onSendMessage = {this.onSendMessage}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nChatPage.contextType = AuthUserContext;\r\nconst condition = authUser => !!authUser;\r\nexport default compose(withFirebase,\r\n                    withAuthorization(condition))(ChatPage)","import chatPage from './ChatPage';\r\n\r\nexport default chatPage;","import React from 'react';\r\nimport SignInPage from '../Sign/SignIn';\r\n\r\nconst LandingPage = () => (\r\n        <SignInPage/>\r\n);\r\n\r\nexport default LandingPage;","import React , {Component} from 'react'\r\n\r\nclass NotificationCard extends Component{\r\n\r\n    render(){\r\n        const {notification} = this.props;\r\n        return(\r\n            <li>{notification.message}<span className=\"close\">&times;</span></li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NotificationCard;","import React, { Component } from \"react\"\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\nimport {  withAuthorization } from '../Session';\r\nimport NotificationCard from './NotificationCard';\r\n\r\nclass NotificationPage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { \r\n            authUser :  this.props.authUser,\r\n            notifications: [],\r\n            limit : 20,\r\n            loading: true,\r\n        }   \r\n        \r\n\t\tthis.props.firebase.notifications().off();\r\n    };\r\n  \r\n    componentDidMount() {\r\n        this.onListenForTweets();\r\n    };\r\n\r\n    componentWillUnmount() {\r\n\t\tthis.props.firebase.notifications().off();\r\n\t}\r\n\r\n    onListenForTweets = () => {\r\n        this.setState({ loading: true });\r\n\r\n        this.props.firebase.notification(this.state.authUser.notifId)\r\n            .limitToLast(this.state.limit)\r\n            .on('value', snapshot => {\r\n                const notificationsObject = snapshot.val();\r\n                if (notificationsObject) {\r\n                    const notificationsList = Object.keys(notificationsObject).map(key => ({\r\n                        ...notificationsObject[key],\r\n                        nid: key,\r\n                    }));\r\n                \r\n                    this.setState({\r\n                        notifications: notificationsList,\r\n                        loading: false,\r\n                    });\r\n                } else {\r\n                    this.setState({ notifications: null, loading: false });\r\n                }\r\n\r\n        });\r\n    };\r\n\r\n    render(){\r\n        const {notifications, loading} = this.state;\r\n        return(\r\n            <div>\r\n                {loading && <div>Loading ...</div>}  \r\n                <ul >\r\n                    {notifications ? notifications.map(notification => (\r\n                        <NotificationCard key={notification.nid} notification={notification}/>\r\n                    )).reverse() : <div>Vous n'avez aucune notification</div>}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default compose(\r\n    withFirebase,\r\n\twithAuthorization(condition),\r\n)(NotificationPage);\r\n","import NotificationPage from \"./NotificationPage\";\r\nimport { AuthUserContext } from '../Session';\r\nimport React from 'react';\r\n\r\nconst Notification = () => (\r\n\t<div>\r\n\t\t<AuthUserContext.Consumer>\r\n\t\t\t{authUser => (\r\n                <NotificationPage authUser={authUser}/>\r\n\t\t\t)}\r\n\t\t</AuthUserContext.Consumer>\r\n\t\t\t\r\n\t</div>\r\n);\r\n\r\nexport default Notification;\r\n","import React,{Component} from \"react\";\r\n\r\nclass UserCard extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        this.state={\r\n            user : this.props.user,\r\n            followState : this.props.user.isFollow,\r\n        }\r\n    }\r\n\r\n    onFollow = () =>{\r\n        this.setState({\r\n            followState:!this.state.followState\r\n        })\r\n        this.props.onFollow(this.state.user, this.state.followState)\r\n    }\r\n\r\n    render()\r\n    {\r\n        const {user, followState} = this.state;\r\n        \r\n        return(\r\n            <div className=\"user_list_card\"  style={{backgroundColor: !followState? \"lightblue\" :\"lightgreen\"  }} >\r\n                <div className=\"chat_img\"> <img className=\"avatar\" src={user.src} alt=\"sunil\"/> </div>\r\n                <div className=\"chat_ib\">\r\n                    <h5>@{user.username}  <button className=\"signoutbutton\" type=\"button\" onClick={this.onFollow}>\r\n                        { followState? \"Follow\" :\"Unfollow\"  }\r\n                    </button>\r\n                    </h5>\r\n\r\n                    <p>{user.bio}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserCard;  ","import React, {Component} from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport UserCard from './UserCard';\r\n\r\nclass ListOfAllUser extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            loading : true,\r\n            users :[],\r\n            limit : 20,\r\n            text:'',\r\n            authUser : this.props.authUser,\r\n            follow: (this.props.authUser.following) ?  Object.values(this.props.authUser.following)  : []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onListenForUsers();\r\n    };\r\n\r\n    \r\n    componentWillUnmount() {\r\n        this.props.firebase.users().off();\r\n    };\r\n\r\n    onListenForUsers = () => {\r\n        this.props.firebase.users()\r\n            .limitToLast(this.state.limit)\r\n            .on('value', snapshot => {\r\n                const usersObject = snapshot.val();    \r\n            this.convertFirebaseObjectToArray(usersObject)\r\n        });        \r\n    };\r\n\r\n    onFollow= (followingUser, isFollow) =>{\r\n        const user = this.state.authUser;\r\n        if (isFollow)\r\n        {   \r\n            this.props.firebase.user(followingUser.uid).child('followers').push(user.uid);\r\n            this.props.firebase.user(user.uid).child('following').push(followingUser.uid);\r\n            this.props.firebase.notification(followingUser.notifId).push({\r\n                uid : user.uid,\r\n                message : \"l'utilisateur \"+ user.username+\" vous a follow\",\r\n                vue : false,\r\n            })\r\n            this.state.follow.push(followingUser.uid);\r\n        }else{\r\n            this.props.firebase.user(followingUser.uid).child(\"followers\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===user.uid)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            this.props.firebase.user(user.uid).child(\"following\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===followingUser.uid)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            this.state.follow.splice(this.state.follow.indexOf(followingUser.uid), 1);\r\n        }\r\n    }\r\n\r\n    convertFirebaseObjectToArray = usersObject =>\r\n    {\r\n        if (usersObject) {\r\n            const usersList = Object.keys(usersObject).map(key => ({\r\n                ...usersObject[key],\r\n                uid: key,\r\n            }));\r\n            const arrayFolow=(this.state.authUser.following) ?  Object.values(this.props.authUser.following)  : [];\r\n            usersList.splice(this.state.authUser,1)\r\n            usersList.forEach(value =>{\r\n                    value.isFollow = false;\r\n                    if (arrayFolow.filter(rt => rt === value.uid).length === 0 )\r\n                    {   \r\n                        value.isFollow = true;\r\n                    }\r\n                }\r\n            )\r\n            this.setState({\r\n                users: usersList,\r\n                loading: false,\r\n            });\r\n        } else {\r\n            this.setState({ users: null, loading: false });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onSearch= ()=>{\r\n        this.props.firebase.users().orderByChild('username').equalTo(this.state.text).once(\"value\", snapshot=>{\r\n            const usersObject = snapshot.val();\r\n            this.convertFirebaseObjectToArray(usersObject)\r\n        }).then(() => {\r\n            this.props.firebase.users().off();\r\n        });\r\n    }\r\n    onChangeText = value =>{\r\n        this.setState({ text: value.target.value });\r\n        if( value.target.value ==='')\r\n        {\r\n            this.onListenForTweets();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {users, text} = this.state;\r\n        return(\r\n            <div className= \"inbox_user_list\">\r\n                <div className=\"headind_srch\">\r\n\t\t\t\t\t<div className=\"recent_heading\">\r\n\t\t\t\t\t\t<h4>Recent</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"srch_bar\">\r\n\t\t\t\t\t\t<div className=\"stylish-input-group\">\r\n                            <input type=\"text\" className=\"search-bar\"  \r\n                            name='text'\r\n                                     value={text}\r\n                                onChange={this.onChangeText}\r\n                         placeholder=\"Search\" />\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-addon\">\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.onSearch} type=\"button\"> <i className=\"fa fa-search\" aria-hidden=\"true\"></i> </button>\r\n\t\t\t\t\t\t\t\t</span> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                <div>\r\n                    {users.map(user=> (    \r\n                        <div key={user.uid}  >\r\n                            {user.uid!==this.state.authUser.uid? \r\n                                <UserCard   \r\n                                            user={user}\r\n                                            onFollow={this.onFollow}/> : ''}\r\n                        </div>))\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default compose( withFirebase,\r\n\twithRouter,\r\n)(ListOfAllUser);\r\n","import React, {Component} from 'react';\r\nimport { AuthUserContext } from '../Session';\r\nimport ListOfAllUser from './ListOfAllUser';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\n\r\nclass ListOfUserPage extends Component{\r\n    render(){\r\n        const authUser = this.context;\r\n        return(\r\n            <div>\r\n               <ListOfAllUser authUser={authUser}/> \r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nListOfUserPage.contextType = AuthUserContext;\r\n\r\nexport default withFirebase(ListOfUserPage);","import ListOfUserPage from \"./ListOfUserPage\";\r\n\r\nexport default ListOfUserPage;","import React from 'react';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n\t<button className=\"signoutbutton\" type=\"button\" onClick={firebase.doSignOut}>\r\n\t\t<span className='fa fa-sign-out'></span> Sign Out\r\n\t</button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);","import React from 'react';\r\n\r\nimport {Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport SignOutButton from '../Sign/SignOut';\r\nimport { AuthUserContext } from '../Session';\r\n\r\nconst Navigation = () => (\r\n\t\r\n\t\t<AuthUserContext.Consumer>\r\n\t\t\t{authUser => authUser ? (\r\n\t\t\t\t\t<NavigationAuth />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<NavigationNonAuth />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</AuthUserContext.Consumer>\r\n);\r\n\r\nconst NavigationAuth  = () => (\r\n\t\r\n\t<div className=\"navbar\">\r\n\t\t\r\n\t\t\t<Link to={ROUTES.HOME}>Home</Link>\r\n\t\r\n\t\t\t<Link to={ROUTES.ACCOUNT}>Account</Link>\r\n\t\t\r\n\t\t\t<Link to={ROUTES.LISTEAMIS}>messagerie</Link>\r\n\t\t\r\n\t\t\t<Link to={ROUTES.NOTIFICATION}>Notification</Link>\r\n\t\t\r\n\t\t\t<Link to={ROUTES.LISTOFUSER}>Listes des utilisateurs</Link>\r\n\t\t\r\n\t\t\r\n\t\t\t<Link className=\"right\" to=\"#\"><SignOutButton /></Link>\r\n\t</div>\r\n);\r\n\r\nconst NavigationNonAuth = () => (\r\n\r\n\t<div className=\"navbar\">\r\n\t\t<Link className=\"right\" to={ROUTES.SIGN_IN}>Sign In</Link>\r\n\t\t<Link className=\"right\" to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n\t</div>\r\n);\r\n\t\r\n\t\r\n\t\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport Header from '../Header';\r\nimport SignUpPage from '../Sign/SignUp';\r\nimport SignInPage from '../Sign/SignIn';\r\nimport PasswordForgetPage from '../Password/PasswordForget';\r\nimport HomePage from '../Home';\r\nimport AccountPage from '../Account';\r\nimport ListeAmisPage from '../Chat';\r\nimport LandingPage from '../Landing';\r\nimport NotificationPage from '../Notification';\r\nimport ListOfUserPage from '../ListOfUsers';\r\nimport Navigation from '../Navigation';\r\nimport {TweetPageByUser} from '../TweetPage';\r\n\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n\r\nconst App = () => (\r\n\t<Router>\r\n\t\t<div>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<Navigation />\r\n\t\t\t<hr />\r\n\t\t\t<div  className=\"container\">\r\n\t\t\t\t<Route  exact path={ROUTES.LANDING} component={LandingPage} />\r\n\t\t\t\t<Route  path={ROUTES.HOME} component={HomePage} />\r\n\t\t\t\t<Route path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n\t\t\t\t<Route path={ROUTES.SIGN_IN} component={SignInPage} />\r\n\t\t\t\t<Route path={ROUTES.LISTEAMIS} component={ListeAmisPage} />\r\n\t\t\t\t<Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage}\t/>\r\n\t\t\t\t<Route path={ROUTES.ACCOUNT} component={AccountPage} />\r\n\t\t\t\t<Route path={ROUTES.NOTIFICATION} component={NotificationPage} />\r\n\t\t\t\t<Route path={ROUTES.LISTOFUSER} component={ListOfUserPage} />\r\n\t\t\t\t<Route path={ROUTES.USERTWEET} component={TweetPageByUser} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</Router>\r\n);\r\n\r\n\r\nexport default withAuthentication(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport App from \"../src/components/App\"\r\nimport Firebase, { FirebaseContext } from './components/Firebase';\r\nimport HttpsRedirect from 'react-https-redirect';\r\n\r\nReactDOM.render(\r\n\t<HttpsRedirect>\r\n\t\t<FirebaseContext.Provider value={new Firebase()}>\r\n\t\t\t<App />\r\n\t\t</FirebaseContext.Provider>\r\n\t</HttpsRedirect>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\nserviceWorker.register();\r\n\r\n"],"sourceRoot":""}