{"version":3,"sources":["serviceWorker.js","constants/routes.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Sign/SignOut/index.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Navigation/index.js","components/Header/index.js","components/Sign/SignUp/index.js","components/Password/PasswordForget/index.js","components/Sign/SignIn/index.js","components/TweetPage/TweetItem.js","components/TweetPage/TweetList.js","components/TweetPage/TweetInput.js","components/TweetPage/TweetPage.js","components/TweetPage/index.js","components/User/UserList.js","components/User/UserCard.js","components/Home/index.js","components/Account/userAccout.js","components/Account/index.js","components/Messages/MessageList.js","components/Messages/Messages.js","components/ListeDesAmis/index.js","components/Landing/index.js","components/Notification/NotificationPage.js","components/Notification/index.js","components/ListOfUsers/UserCard.js","components/ListOfUsers/ListOfAllUser.js","components/ListOfUsers/ListOfUserPage.js","components/ListOfUsers/index.js","components/App/index.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","HOME","ACCOUNT","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","user","uid","once","snapshot","dbUser","val","objectSpread","emailVerified","db","ref","concat","users","message","id","messages","tweet","tweets","chat","chats","notification","notifications","image","storage","images","app","initializeApp","serverValue","database","ServerValue","_ref","className","type","onClick","AuthUserContext","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","JSON","parse","localStorage","getItem","inherits","createClass","key","value","_this2","listener","setItem","stringify","setState","removeItem","Session_context","Provider","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","compose","withRouter","NavigationAuth","react_router_dom","to","ROUTES","style","float","SignOut","NavigationNonAuth","Navigation","Navigation_NavigationAuth","Navigation_NavigationNonAuth","Header","components_Navigation","INITIAL_STATE","username","name","passwordOne","passwordTwo","isAdmin","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","onSubmit","event","_this$state","set","src","notifId","update","doSendEmailVerification","code","preventDefault","onChange","defineProperty","target","onChangeCheckbox","checked","_this$state2","isInvalid","htmlFor","placeholder","disabled","SignUpLink","SignUpForm","SignUpPage","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","SignInForm","SignInPage","PasswordForget_PasswordForgetLink","SignUp_SignUpLink","TweetItem","onPressRetweet","onReTweet","pressRetweet","onReplyTweet","onPressFavorite","onaddFavorite","pressFavorite","onChangeEditText","editText","onSaveEditText","onEditTweet","editMode","onToggleEditMode","text","onFollow","followState","followTexte","userId","toto","follow","filter","rt","length","_this$props","onRemoveTweet","dateFormat","moment","createdAt","fromNow","alt","editedAt","retweets","like","tid","TweetList","map","TweetPage_TweetItem","reverse","TweetInput","onsubmit","onCreateTweet","onChangeText","pretext","userNameToReply","onCloseText","TweetPage","onListenForTweets","loading","orderByChild","limitToLast","limit","on","tweetsObject","tweetsList","keys","onListenForUserDataUpdate","openText","renderTweetInput","TweetPage_TweetInput","likes","child","TIMESTAMP","followingId","vue","forEach","remove","splice","indexOf","listreTweets","listFav","tweetSnapshot","objectWithoutProperties","onOpenText","changeStateabc","current","isReply","listRetweet","values","listLike","following","off","TweetPage_TweetList","UserList","changeColor","usersObject","usersList","_this3","aria-hidden","UserCard","onSendPasswordResetEmail","listPhoto","userRoute","width","bio","Grid","container","item","xs","url","User_UserCard","components_TweetPage","UserAccount","handleChangeUsername","handleUploadStart","isUploading","progress","handleProgress","handleUploadError","handleUploadSuccess","filename","avatar","getDownloadURL","avatarURL","backgroundColor","color","pointer","lib_default","hidden","accept","storageRef","onUploadStart","onUploadError","onUploadSuccess","onProgress","userAccout","MessageList","onEditMessage","onRemoveMessage","Messages","onListenForMessages","messageObject","messageList","onCreateMessage","messageSnapshot","onNextPage","Messages_MessageList","ListeAmisPage","onSendMessage","destinataire","chatid","User_UserList","LandingPage","SignIn","NotificationPage","notificationsObject","notificationsList","nid","Notification","Notification_NotificationPage","isFollow","ListOfAllUser","convertFirebaseObjectToArray","followingUser","arrayFolow","onSearch","equalTo","ListOfUsers_UserCard","ListOfUserPage","context","ListOfUsers_ListOfAllUser","contextType","components_Header","react_router","exact","path","component","HomePage","AccountPage","ReactDOM","render","react_https_redirect_lib_default","components_App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"8LAYMA,SAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,4DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTK,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BC,QAAQC,IACN,iHAKEb,GAAUA,EAAOc,UACnBd,EAAOc,SAAST,KAMlBO,QAAQC,IAAI,sCAGRb,GAAUA,EAAOe,WACnBf,EAAOe,UAAUV,UAO5BW,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,yBC7FpDC,EAAO,QACPC,EAAU,WCFjBC,EAAkBC,IAAMC,cAAc,MAE/BC,EAAe,SAAAC,GAAS,OAAI,SAAAC,GAAK,OAC1CC,EAAAC,EAAAC,cAACR,EAAgBS,SAAjB,KACG,SAAAC,GAAQ,OAAIJ,EAAAC,EAAAC,cAACJ,EAADO,OAAAC,OAAA,GAAeP,EAAf,CAAsBK,SAAUA,SAIpCV,oCCHTpB,2BAAS,CACdiC,OAAQ,0CACRC,WAAY,gCACZC,YAAa,uCACbC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,wCCXOC,EDed,SAAAA,IAAc,IAAAC,EAAAC,KAAAX,OAAAY,EAAA,EAAAZ,CAAAW,KAAAF,GAAAE,KAWdE,iCAAmC,SAACC,EAAOC,GAAR,OAClCL,EAAKM,KAAKC,+BAA+BH,EAAOC,IAZnCJ,KAcdO,6BAA+B,SAACJ,EAAOC,GAAR,OAC9BL,EAAKM,KAAKG,2BAA2BL,EAAOC,IAf/BJ,KAiBdS,UAAY,kBAAMV,EAAKM,KAAKK,WAjBdV,KAmBdW,gBAAkB,SAAAR,GAAK,OAAIJ,EAAKM,KAAKO,uBAAuBT,IAnB9CH,KAqBda,iBAAmB,SAAAT,GAAQ,OAC1BL,EAAKM,KAAKS,YAAYC,eAAeX,IAtBxBJ,KAwBdgB,mBAAqB,SAACC,EAAMC,GAAP,OACpBnB,EAAKM,KAAKc,mBAAmB,SAAAC,GACxBA,EACHrB,EAAKsB,KAAKD,EAASE,KACjBC,KAAK,SACL7D,KAAK,SAAA8D,GACL,IAAMC,EAASD,EAASE,MACxBN,EAAQ/B,OAAAsC,EAAA,EAAAtC,CAAA,CACPiC,IAAKF,EAASE,IACdnB,MAAOiB,EAASjB,MAChByB,cAAeR,EAASQ,eACrBH,GAEJR,EAAKG,KAGPF,OAxCWlB,KA4CdqB,KAAO,SAAAC,GAAG,OAAIvB,EAAK8B,GAAGC,IAAR,SAAAC,OAAqBT,KA5CrBtB,KA8CdgC,MAAQ,kBAAMjC,EAAK8B,GAAGC,IAAI,UA9CZ9B,KAgDdiC,QAAU,SAAAC,GAAE,OAAInC,EAAK8B,GAAGC,IAAR,YAAAC,OAAwBG,KAhD1BlC,KAkDdmC,SAAW,kBAAMpC,EAAK8B,GAAGC,IAAI,aAlDf9B,KAoDdoC,MAAQ,SAAAF,GAAE,OAAInC,EAAK8B,GAAGC,IAAR,UAAAC,OAAsBG,KApDtBlC,KAsDdqC,OAAS,kBAAMtC,EAAK8B,GAAGC,IAAI,WAtDb9B,KAwDdsC,KAAO,SAAAJ,GAAE,OAAInC,EAAK8B,GAAGC,IAAR,SAAAC,OAAqBG,KAxDpBlC,KA0DduC,MAAQ,kBAAMxC,EAAK8B,GAAGC,IAAR,UA1DA9B,KA4DdwC,aAAe,SAAAN,GAAE,OAAInC,EAAK8B,GAAGC,IAAR,iBAAAC,OAA6BG,KA5DpClC,KA8DdyC,cAAgB,kBAAM1C,EAAK8B,GAAGC,IAAR,kBA9DR9B,KAgEd0C,MAAQ,SAAAR,GAAE,OAAInC,EAAK4C,QAAQb,IAAb,UAAAC,OAA2BG,KAhE3BlC,KAkEd4C,OAAS,kBAAM7C,EAAK4C,QAAQb,IAAb,WAjEde,IAAIC,cAAcxF,GAElB0C,KAAK+C,YAAcF,IAAIG,SAASC,YAEhCjD,KAAKK,KAAOwC,IAAIxC,OAChBL,KAAK6B,GAAKgB,IAAIG,WACdhD,KAAK2C,QAAUE,IAAIF,WEfN9D,IANO,SAAAqE,GAAA,IAAG9D,EAAH8D,EAAG9D,SAAH,OACrBJ,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,gBAAgBC,KAAK,SAASC,QAASjE,EAASqB,WACjEzB,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,mBADjB,eCDcG,EAFS3E,IAAMC,cAAc,kCC0C7B2E,EAvCY,SAAAzE,GAAa,IAChC0E,EADgC,SAAAC,GAEpC,SAAAD,EAAYzE,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAwD,IACjBzD,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAmE,GAAAI,KAAA5D,KAAMjB,KAEDf,MAAQ,CACXoD,SAAUyC,KAAKC,MAAMC,aAAaC,QAAQ,cAJ3BjE,EAFiB,OAAAV,OAAA4E,EAAA,EAAA5E,CAAAmE,EAAAC,GAAApE,OAAA6E,EAAA,EAAA7E,CAAAmE,EAAA,EAAAW,IAAA,oBAAAC,MAAA,WAUhB,IAAAC,EAAArE,KAClBA,KAAKsE,SAAWtE,KAAKjB,MAAMK,SAAS4B,mBAClC,SAAAI,GACE2C,aAAaQ,QAAQ,WAAYV,KAAKW,UAAUpD,IAChDiD,EAAKI,SAAS,CAAErD,cAElB,WACE2C,aAAaW,WAAW,YACxBL,EAAKI,SAAS,CAAErD,SAAU,WAlBI,CAAA+C,IAAA,uBAAAC,MAAA,WAwBlCpE,KAAKsE,aAxB6B,CAAAH,IAAA,SAAAC,MAAA,WA4BlC,OACEpF,EAAAC,EAAAC,cAACyF,EAAgBC,SAAjB,CAA0BR,MAAOpE,KAAKhC,MAAMoD,UAC1CpC,EAAAC,EAAAC,cAACJ,EAAckB,KAAKjB,YA9BUyE,EAAA,CACL7E,IAAMG,WAmCvC,OAAOD,EAAa2E,YCDPqB,EAhCW,SAAAC,GAAS,OAAI,SAAAhG,GAAa,IAC5CiG,EAD4C,SAAAtB,GAAA,SAAAsB,IAAA,OAAA1F,OAAAY,EAAA,EAAAZ,CAAAW,KAAA+E,GAAA1F,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAA0F,GAAAC,MAAAhF,KAAAiF,YAAA,OAAA5F,OAAA4E,EAAA,EAAA5E,CAAA0F,EAAAtB,GAAApE,OAAA6E,EAAA,EAAA7E,CAAA0F,EAAA,EAAAZ,IAAA,oBAAAC,MAAA,WAE5B,IAAArE,EAAAC,KAElBA,KAAKsE,SAAWtE,KAAKjB,MAAMK,SAASiB,KAAKc,mBAAmB,SAAAC,GACrD0D,EAAU1D,IACbrB,EAAKhB,MAAMmG,QAAQC,KPZN,eOM6B,CAAAhB,IAAA,uBAAAC,MAAA,WAY9CpE,KAAKsE,aAZyC,CAAAH,IAAA,SAAAC,MAAA,WAevC,IAAAC,EAAArE,KACP,OACEhB,EAAAC,EAAAC,cAACyF,EAAgBxF,SAAjB,KACG,SAAAiC,GAAQ,OACP0D,EAAU1D,GAAYpC,EAAAC,EAAAC,cAACJ,EAAcuF,EAAKtF,OAAY,WAnBdgG,EAAA,CAClBpG,IAAMG,WAyBtC,OAAOsG,YACLC,IACAxG,EAFKuG,CAGLL,KChBEO,EAAkB,SAAApC,KAAG9B,SAAH,OAEvBpC,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GAAIC,GAAV,SAEDzG,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GAAIC,GAAV,YAEDzG,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GRzBgB,cQyBtB,eAEDxG,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GR1BkB,iBQ0BxB,iBAEDxG,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GR5BgB,eQ4BtB,4BAGDxG,EAAAC,EAAAC,cAAA,MAAIwG,MAAO,CAACC,MAAO,UAClB3G,EAAAC,EAAAC,cAAC0G,EAAD,SAKGC,EAAoB,kBACzB7G,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GR/Cc,WQ+CpB,YAEDxG,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GRnDc,WQmDpB,cAQYM,EArDI,kBAClB9G,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,QACjBnE,EAAAC,EAAAC,cAAA,MAAIiE,UAAU,iBAAd,eACAnE,EAAAC,EAAAC,cAACyF,EAAgBxF,SAAjB,KACE,SAAAiC,GAAQ,OAAIA,EACXpC,EAAAC,EAAAC,cAAC6G,EAAD,CAAgB3E,SAAUA,IAE1BpC,EAAAC,EAAAC,cAAC8G,EAAD,UCRUC,EAHA,kBACXjH,EAAAC,EAAAC,cAACgH,EAAD,eCUEC,EAAgB,CACpBC,SAAU,GACVC,KAAM,GACNlG,MAAO,GACPmG,YAAa,GACbC,YAAa,GACbC,SAAS,EACTjI,MAAO,MAGHkI,EAA4B,wBAE5BC,EAAwB,SAExBC,cACF,SAAAA,EAAY5H,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAA2G,IACf5G,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAsH,GAAA/C,KAAA5D,KAAMjB,KAKT6H,SAAW,SAAAC,GAAS,IAAAC,EAC6B/G,EAAK/B,MAA3CoI,EADSU,EACTV,SAASC,EADAS,EACAT,KAAMlG,EADN2G,EACM3G,MAAOmG,EADbQ,EACaR,YAC9BvG,EAAKhB,MAAMK,SACNc,iCAAiCC,EAAOmG,GACxC5I,KAAK,SAAA0D,GACF,IAAIE,EAAIF,EAASC,KAAKC,IAGtB,OADDvB,EAAK0E,SAAS,CAACnD,IAAMA,IACbvB,EAAKhB,MAAMK,SAASiC,KAAKD,EAASC,KAAKC,KAAKyF,IAAI,CACnDX,WACAC,OACAlG,QACAmB,MACA0F,IAPM,oLAUbtJ,KAAK,WACF,IAAIuJ,EAAUlH,EAAKhB,MAAMK,SAASqD,gBAAgB0C,OAAOhB,IAIzD,OAHApE,EAAKhB,MAAMK,SAASiC,KAAKtB,EAAK/B,MAAMsD,KAAK4F,OAAO,CAC5CD,QAASA,IAENlH,EAAKhB,MAAMK,SAAS+H,4BAE9BzJ,KAAK,WACFqC,EAAK0E,SAALpF,OAAAsC,EAAA,EAAAtC,CAAA,GAAmB8G,IACnBpG,EAAKhB,MAAMmG,QAAQC,KAAKM,KAE3BnH,MAAM,SAAAC,GACCA,EAAM6I,OAASX,IACnBlI,EAAM0D,QAAUyE,GAGhB3G,EAAK0E,SAAS,CAAElG,YAGxBsI,EAAMQ,kBAzCStH,EA4CrBuH,SAAW,SAAAT,GACT9G,EAAK0E,SAALpF,OAAAkI,EAAA,EAAAlI,CAAA,GAAiBwH,EAAMW,OAAOnB,KAAOQ,EAAMW,OAAOpD,SA7C/BrE,EAgDrB0H,iBAAmB,SAAAZ,GACjB9G,EAAK0E,SAALpF,OAAAkI,EAAA,EAAAlI,CAAA,GAAiBwH,EAAMW,OAAOnB,KAAOQ,EAAMW,OAAOE,WA9C9C3H,EAAK/B,MAALqB,OAAAsC,EAAA,EAAAtC,CAAA,GAAkB8G,GAHHpG,wEAoDV,IAAA4H,EAQD3H,KAAKhC,MANLoI,EAFCuB,EAEDvB,SACAjG,EAHCwH,EAGDxH,MACAmG,EAJCqB,EAIDrB,YACAC,EALCoB,EAKDpB,YACAhI,EANCoJ,EAMDpJ,MACA8H,EAPCsB,EAODtB,KAGIuB,EACAtB,IAAgBC,GACA,KAAhBD,GACU,KAAVnG,GACS,KAATkG,GACa,KAAbD,EAER,OACIpH,EAAAC,EAAAC,cAAA,QAAM0H,SAAU5G,KAAK4G,UACjB5H,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,YAAW7I,EAAAC,EAAAC,cAAA,uBAC1BF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,WAAYjC,MAAOgC,EAAWkB,SAAUtH,KAAKsH,SAAUlE,KAAK,OAAQ0E,YAAY,cAE5F9I,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,QAAO7I,EAAAC,EAAAC,cAAA,kBACtBF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,OAAQjC,MAAOiC,EAAOiB,SAAUtH,KAAKsH,SAAUlE,KAAK,OAAQ0E,YAAY,UAEpF9I,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,SAAQ7I,EAAAC,EAAAC,cAAA,2BACvBF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,QAAQjC,MAAOjE,EAAOmH,SAAUtH,KAAKsH,SAAUlE,KAAK,OAAO0E,YAAY,kBAEnF9I,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,eAAc7I,EAAAC,EAAAC,cAAA,sBAC7BF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,cAAcjC,MAAOkC,EAAagB,SAAUtH,KAAKsH,SAAUlE,KAAK,WAAW0E,YAAY,aAEnG9I,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,eAAc7I,EAAAC,EAAAC,cAAA,8BAC7BF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,cAAejC,MAAOmC,EAAae,SAAUtH,KAAKsH,SAAWlE,KAAK,WAAW0E,YAAY,qBAErG9I,EAAAC,EAAAC,cAAA,UAASiE,UAAU,cAAc4E,SAAUH,EAAWxE,KAAK,UAA3D,WAGC7E,GAASS,EAAAC,EAAAC,cAAA,SAAIX,EAAM0D,kBA3FXnD,aAkGnBkJ,EAAa,kBACfhJ,EAAAC,EAAAC,cAAA,mCAC2BF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GV/HlB,WU+HY,aAI7ByC,EAAa7C,YACjBC,IACAxG,EAFiBuG,CAGjBuB,GAEauB,EAlII,kBACjBlJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAC+I,EAAD,QCGE9B,EAAgB,CACpBhG,MAAO,GACP5B,MAAO,MAGH4J,cACJ,SAAAA,EAAYpJ,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAmI,IACjBpI,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAA8I,GAAAvE,KAAA5D,KAAMjB,KAKR6H,SAAW,SAAAC,GAAS,IACV1G,EAAUJ,EAAK/B,MAAfmC,MAERJ,EAAKhB,MAAMK,SACRuB,gBAAgBR,GAChBzC,KAAK,WACJqC,EAAK0E,SAALpF,OAAAsC,EAAA,EAAAtC,CAAA,GAAmB8G,MAEpB7H,MAAM,SAAAC,GACLwB,EAAK0E,SAAS,CAAElG,YAGpBsI,EAAMQ,kBAlBWtH,EAqBnBuH,SAAW,SAAAT,GACT9G,EAAK0E,SAALpF,OAAAkI,EAAA,EAAAlI,CAAA,GAAiBwH,EAAMW,OAAOnB,KAAOQ,EAAMW,OAAOpD,SAnBlDrE,EAAK/B,MAALqB,OAAAsC,EAAA,EAAAtC,CAAA,GAAkB8G,GAHDpG,wEAyBV,IAAA+G,EACkB9G,KAAKhC,MAAtBmC,EADD2G,EACC3G,MAAO5B,EADRuI,EACQvI,MAETqJ,EAAsB,KAAVzH,EAElB,OACEnB,EAAAC,EAAAC,cAAA,QAAM0H,SAAU5G,KAAK4G,UACnB5H,EAAAC,EAAAC,cAAA,SACEmH,KAAK,QACLjC,MAAOpE,KAAKhC,MAAMmC,MAClBmH,SAAUtH,KAAKsH,SACflE,KAAK,OACL0E,YAAY,kBAEd9I,EAAAC,EAAAC,cAAA,UAAQ6I,SAAUH,EAAWxE,KAAK,UAAlC,qBAIC7E,GAASS,EAAAC,EAAAC,cAAA,SAAIX,EAAM0D,iBA5CSnD,aAkD/BsJ,EAAqB,kBACzBpJ,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GXjEqB,cWiE3B,sBAIW6C,EApEY,kBACzBrJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAACoJ,EAAD,QAmEEA,EAAqBzJ,EAAasJ,GC1DlChC,EAAgB,CACrBhG,MAAO,GACPC,SAAU,GACV7B,MAAO,MAGFgK,cACL,SAAAA,EAAYxJ,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAuI,IAClBxI,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAkJ,GAAA3E,KAAA5D,KAAMjB,KAKP6H,SAAW,SAAAC,GAAS,IAAAC,EACS/G,EAAK/B,MAAzBmC,EADW2G,EACX3G,MAAOC,EADI0G,EACJ1G,SACfL,EAAKhB,MAAMK,SACTmB,6BAA6BJ,EAAOC,GACpC1C,KAAK,WACLqC,EAAK0E,SAALpF,OAAAsC,EAAA,EAAAtC,CAAA,GAAmB8G,IACnBpG,EAAKhB,MAAMmG,QAAQC,KAAKM,KAExBnH,MAAM,SAAAC,GACNwB,EAAK0E,SAAS,CAAElG,YAGlBsI,EAAMQ,kBAlBYtH,EAqBnBuH,SAAW,SAAAT,GACV9G,EAAK0E,SAALpF,OAAAkI,EAAA,EAAAlI,CAAA,GAAiBwH,EAAMW,OAAOnB,KAAOQ,EAAMW,OAAOpD,SAnBlDrE,EAAK/B,MAALqB,OAAAsC,EAAA,EAAAtC,CAAA,GAAkB8G,GAHApG,wEAyBV,IAAA4H,EAC2B3H,KAAKhC,MAAhCmC,EADAwH,EACAxH,MAAOC,EADPuH,EACOvH,SAAU7B,EADjBoJ,EACiBpJ,MAEnBqJ,EAAyB,KAAbxH,GAA6B,KAAVD,EAErC,OACCnB,EAAAC,EAAAC,cAAA,QAAM0H,SAAU5G,KAAK4G,UACpB5H,EAAAC,EAAAC,cAAA,SACCmH,KAAK,QACLjC,MAAOjE,EACPmH,SAAUtH,KAAKsH,SACflE,KAAK,OACL0E,YAAY,kBAEb9I,EAAAC,EAAAC,cAAA,SACCmH,KAAK,WACLjC,MAAOhE,EACPkH,SAAUtH,KAAKsH,SACflE,KAAK,WACL0E,YAAY,aAEb9I,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,cAAc4E,SAAUH,EAAWxE,KAAK,UAA1D,WAIC7E,GAASS,EAAAC,EAAAC,cAAA,SAAIX,EAAM0D,iBAnDKnD,aAyDvB0J,EAAapD,YAClBC,IACAxG,EAFkBuG,CAGjBmD,GAEaE,EA7EK,kBACjBzJ,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAACsJ,EAAD,MACAxJ,EAAAC,EAAAC,cAACwJ,EAAD,MACA1J,EAAAC,EAAAC,cAACyJ,EAAD,kCC0HWC,eApId,SAAAA,EAAY7J,GAAO,IAAAgB,EAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAA4I,IAClB7I,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAuJ,GAAAhF,KAAA5D,KAAMjB,KAiBP8J,eAAgB,WACf9I,EAAKhB,MAAM+J,UAAU/I,EAAKhB,MAAMqD,MAAOrC,EAAKhB,MAAMqC,UAClDrB,EAAK0E,SAAS,CACZsE,cAAc,KArBEhJ,EAyBnBiJ,aAAc,WACbjJ,EAAKhB,MAAMiK,aAAajJ,EAAKhB,MAAMqD,MAAMgE,WA1BvBrG,EA8BnBkJ,gBAAiB,WAChBlJ,EAAKhB,MAAMmK,cAAcnJ,EAAKhB,MAAMqD,MAAOrC,EAAKhB,MAAMqC,UACtDrB,EAAK0E,SAAS,CACb0E,eAAe,KAjCEpJ,EAqCnBqJ,iBAAmB,SAAAvC,GAClB9G,EAAK0E,SAAS,CAAE4E,SAAUxC,EAAMW,OAAOpD,SAtCrBrE,EAyCnBuJ,eAAiB,WAChBvJ,EAAKhB,MAAMwK,YAAYxJ,EAAKhB,MAAMqD,OAClCrC,EAAK0E,SAAS,CAAE+E,UAAU,KA3CRzJ,EA8CnB0J,iBAAmB,WAClB1J,EAAK0E,SAAS,SAAAzG,GAAK,MAAK,CACvBwL,UAAWxL,EAAMwL,SACjBH,SAAUtJ,EAAKhB,MAAMqD,MAAMsH,SAjDV3J,EAqDnB4J,SAAU,WACT,IAAID,EAAO,SACP3J,EAAK/B,MAAM4L,cAEdF,EAAO,YAER3J,EAAK0E,SAAS,SAAAzG,GAAK,MAAK,CACvB4L,aAAc5L,EAAM4L,YACpBC,YAAcH,KAEf3J,EAAKhB,MAAM4K,SAAS5J,EAAKhB,MAAMqD,MAAM0H,OAAQ/J,EAAKhB,MAAMqC,WA/DtCrB,EAkEnBgK,KAAO,WACN7L,QAAQC,IAAI,gBAjEZ,IAAIyL,GAAc,EAFA,OAG4D,IAA1E7J,EAAKhB,MAAMiL,OAAOC,OAAO,SAAAC,GAAE,OAAIA,IAAOnK,EAAKhB,MAAMqD,MAAM0H,SAAQK,SAElEP,GAAc,GAEf7J,EAAK/B,MAAQ,CACZmL,eAAe,EACfJ,cAAc,EACdS,UAAU,EACVnD,KAAOtG,EAAKhB,MAAMsH,KAClBgD,SAAUtJ,EAAKhB,MAAMqD,MAAMsH,KAC3BG,YAAeD,EAAiB,WAAc,SAC9CA,YAAcA,GAdG7J,wEAuEV,IAAAqK,EACyBpK,KAAKjB,MAA7BqD,EADDgI,EACChI,MAAOiI,EADRD,EACQC,cACRb,EAAaxJ,KAAKhC,MAAlBwL,SACFc,EAAaC,KAAOnI,EAAMoI,WAAWC,UAC3C,OACCzL,EAAAC,EAAAC,cAAA,OAAKiF,IAAK/B,EAAMd,IAAK6B,UAAU,mBAC9BnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,QACdnE,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,sBACfnE,EAAAC,EAAAC,cAAA,OAAK8H,IAAK5E,EAAM4E,IAAK0D,IAAI,SAASvH,UAAU,YAE7CnE,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,kBAAhB,MAAqCf,EAAMgE,SAA3C,SAA2DpG,KAAKhC,MAAMqI,MAC9DrH,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,cAAhB,MAAiCmH,GACxClI,EAAMuI,UAAY3L,EAAAC,EAAAC,cAAA,wBACnBF,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,gBAAgBC,KAAK,SAASC,QAASrD,KAAK2J,UAC5D3J,KAAKhC,MAAM6L,cAGd7K,EAAAC,EAAAC,cAAA,UAAKkD,EAAMsH,MACX1K,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,WACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,aAAaE,QAASrD,KAAKgJ,cACzChK,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,eAAhB,YAEDnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBAAgBE,QAASrD,KAAK6I,gBAC5C7J,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,kBAChBnE,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,UAAUf,EAAMwI,SAAhC,eAED5L,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,kBAAkBE,QAASrD,KAAKiJ,iBAC9CjK,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,eAChBnE,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,UAAUf,EAAMyI,KAAhC,aAqBCrB,GACDxK,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,SAASE,QAAS,kBAAMgH,EAAcjI,EAAM0I,OAC1D9L,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,kBAChBnE,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,UAAhB,sBA5HiBrE,aC+BTiM,GA9BG,SAAA7H,GAAA,IACjB9B,EADiB8B,EACjB9B,SACAiB,EAFiBa,EAEjBb,OACAyG,EAHiB5F,EAGjB4F,UACAI,EAJiBhG,EAIjBgG,cACAF,EALiB9F,EAKjB8F,aACAO,EANiBrG,EAMjBqG,YACAc,EAPiBnH,EAOjBmH,cACAV,EARiBzG,EAQjByG,SACAK,EATiB9G,EASjB8G,OACA3D,EAViBnD,EAUjBmD,KAViB,OAYjBrH,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,kBACbd,EAAO2I,IAAI,SAAA5I,GAAK,OAChBpD,EAAAC,EAAAC,cAAC+L,GAAD,CAAY9G,IAAK/B,EAAM0I,IACpB1J,SAAUA,EACVgB,MAAOA,EACPiE,KAAQA,EACRyC,UAAYA,EACZI,cAAeA,EACfF,aAAcA,EACdO,YAAaA,EACbc,cAAeA,EACfV,SAAYA,EACZK,OAAUA,MAEXkB,YCqBWC,eA9CZ,SAAAA,EAAYpM,GACZ,IAAAgB,EAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAmL,IACIpL,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAA8L,GAAAvH,KAAA5D,KAAMjB,KAQVqM,SAAW,SAAAvE,GACP9G,EAAKhB,MAAMsM,cAAcxE,GACzB9G,EAAK0E,SAAS,CAAEiF,KAAM,MAX1B3J,EAcAuL,aAAe,SAAAzE,GAEX9G,EAAK0E,SAAS,CAAEiF,KAAM7C,EAAMW,OAAOpD,QACnCrE,EAAKhB,MAAMuM,aAAazE,EAAMW,OAAOpD,QAfrC,IAAMmH,EAAWxL,EAAKhB,MAAMyM,gBAAZ,IAAAzJ,OAAoChC,EAAKhB,MAAMyM,gBAA/C,KAAqE,GAFzF,OAGIzL,EAAK/B,MAAQ,CACT0L,KAAM6B,EACNC,gBAAiB,QALzBzL,wEAqBA,IAAA+G,EACuC9G,KAAKhC,MAAhC0L,EADZ5C,EACY4C,KAAM8B,EADlB1E,EACkB0E,gBACd,OACIxM,EAAAC,EAAAC,cAAA,QAAM0H,SAAU5G,KAAKoL,UACjBpM,EAAAC,EAAAC,cAAA,YAAUiE,UAAU,aACZkD,KAAK,OACLjC,MAAOsF,EACPpC,SAAUtH,KAAKsL,cAEjBE,EAAD,IAAAzJ,OAAwByJ,EAAxB,KAA6C,IAElDxM,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBACXnE,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,cACVE,QAASrD,KAAKjB,MAAM0M,aAD5B,SAIAzM,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,aAAaC,KAAK,UAApC,mBAxCKtE,aCInB4M,eACF,SAAAA,EAAY3M,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAA0L,IACf3L,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAqM,GAAA9H,KAAA5D,KAAMjB,KAqBV4M,kBAAoB,WAChB5L,EAAK0E,SAAS,CAAEmH,SAAS,IAEzB7L,EAAKhB,MAAMK,SAASiD,SACfwJ,aAAa,aACbC,YAAY/L,EAAK/B,MAAM+N,OACvBC,GAAG,QAAS,SAAAxK,GACL,IAAMyK,EAAezK,EAASE,MAC9B,GAAIuK,EAAc,CACd,IAAMC,EAAa7M,OAAO8M,KAAKF,GAAcjB,IAAI,SAAA7G,GAAG,OAAA9E,OAAAsC,EAAA,EAAAtC,CAAA,GAC7C4M,EAAa9H,GADgC,CAEhD2G,IAAK3G,MAGTpE,EAAK0E,SAAS,CACVpC,OAAQ6J,EACRN,SAAS,SAGb7L,EAAK0E,SAAS,CAAEpC,OAAQ,KAAMuJ,SAAS,OAzCxC7L,EA+CnBqM,0BAA0B,WACtBrM,EAAKhB,MAAMK,SAASiC,KAAKtB,EAAK/B,MAAMoD,SAASE,KAAK0K,GAAG,QAAS,SAAAxK,GAE1DzB,EAAK0E,SAAS,CACVrD,SAASI,EAASE,WAnDX3B,EAyDnB0L,YAAc,SAAC5E,GACXA,EAAMQ,iBACNtH,EAAK0E,SAAS,CAAE4H,UAAU,KA3DXtM,EA8DnBuM,iBAAmB,WACf,GAAIvM,EAAK/B,MAAMqO,SACX,OACIrN,EAAAC,EAAAC,cAACqN,GAAD,CACInL,SAAUrB,EAAK/B,MAAMoD,SACrBkK,aAAcvL,EAAKuL,aACnBD,cAAetL,EAAKsL,cACpB3B,KAAQ3J,EAAK/B,MAAM0L,KACnB+B,YAAa1L,EAAK0L,YAClBD,gBAAmBzL,EAAK/B,MAAMwN,mBAvE3BzL,EA8EnBmJ,cAAgB,SAAC9G,EAAOf,GAC2C,IAA3DtB,EAAK/B,MAAMwO,MAAMvC,OAAO,SAAAC,GAAE,OAAIA,IAAO9H,EAAM0I,MAAKX,SAEhDpK,EAAKhB,MAAMK,SAASgD,MAAMA,EAAM0I,KAAK2B,MAAM,YAAYtH,KAAK,CACxD2E,OAAQzI,EAAKC,IACb8E,SAAU/E,EAAK+E,WAEnBhE,EAAMyI,OACN9K,EAAKhB,MAAMK,SAASgD,MAAMA,EAAM0I,KAAK2B,MAAM,QAAQ1F,IAAI3E,EAAMyI,MAC7D9K,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAKmL,MAAM,YAAYtH,KAAK/C,EAAM0I,KAChE/K,EAAK/B,MAAMwO,MAAMrH,KAAK/C,EAAM0I,OAxFjB/K,EA6FnB+I,UAAY,SAAC1G,EAAOf,GAChBtB,EAAK/B,MAAMqE,OAAO8C,KAAK/C,GAC2C,IAA9DrC,EAAK/B,MAAM4M,SAASX,OAAO,SAAAC,GAAE,OAAIA,IAAO9H,EAAM0I,MAAKX,SAEnDpK,EAAKhB,MAAMK,SAASgD,MAAMA,EAAM0I,KAAK2B,MAAM,gBAAgBtH,KAAK,CAC5DuE,KAAM3J,EAAK/B,MAAM0L,KACjBI,OAAQzI,EAAKC,IACb0F,IAAK3F,EAAK2F,IACVZ,SAAU/E,EAAK+E,SACfoE,UAAWzK,EAAKhB,MAAMK,SAAS2D,YAAY2J,UAC3C7B,KAAM,EACND,SAAU,IAEdxI,EAAMwI,WACN7K,EAAKhB,MAAMK,SAASgD,MAAMA,EAAM0I,KAAK2B,MAAM,YAAY1F,IAAI3E,EAAMwI,UACjE7K,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAKmL,MAAM,eAAetH,KAAK/C,EAAM0I,KACnE/K,EAAK/B,MAAM4M,SAASzF,KAAK/C,EAAM0I,OA7GpB/K,EAkHnB4J,SAAU,SAACgD,EAAatL,GAC8C,IAA9DtB,EAAK/B,MAAMgM,OAAOC,OAAO,SAAAC,GAAE,OAAIA,IAAOyC,IAAaxC,QAEnDpK,EAAKhB,MAAMK,SAASiC,KAAKsL,GAAaF,MAAM,aAAatH,KAAK9D,EAAKC,KACnEvB,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAKmL,MAAM,aAAatH,KAAKwH,GAC3D5M,EAAKhB,MAAMK,SAASoD,aAAanB,EAAK4F,SAAS9B,KAAK,CAChD7D,IAAMD,EAAKC,IACXW,QAAU,8BACV2K,KAAM,IAEV7M,EAAK/B,MAAMgM,OAAO7E,KAAKwH,KAEvB5M,EAAKhB,MAAMK,SAASiC,KAAKsL,GAAaF,MAAM,aAAalL,KAAK,QAAS,SAAAC,GACnEA,EAASqL,QAAQ,SAAAJ,GACVA,EAAM/K,QAAQL,EAAKC,KAElBmL,EAAM3K,IAAIgL,aAItB/M,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAKmL,MAAM,aAAalL,KAAK,QAAS,SAAAC,GAChEA,EAASqL,QAAQ,SAAAJ,GACVA,EAAM/K,QAAQiL,GAEbF,EAAM3K,IAAIgL,aAKtB/M,EAAK/B,MAAMgM,OAAO+C,OAAOhN,EAAK/B,MAAMgM,OAAOgD,QAAQL,GAAc,KA/ItD5M,EAmJnBsL,cAAgB,SAACxE,GACb,IAAI1C,EAAMpE,EAAKhB,MAAMK,SAASiD,SAAS8C,KAAK,CACxCuE,KAAM3J,EAAK/B,MAAM0L,KACjBI,OAAQ/J,EAAK/B,MAAMoD,SAASE,IAC5B8E,SAAUrG,EAAK/B,MAAMoD,SAASgF,SAC9BoE,UAAWzK,EAAKhB,MAAMK,SAAS2D,YAAY2J,UAC3C1F,IAAKjH,EAAK/B,MAAMoD,SAAS4F,IACzB6D,KAAM,EACND,SAAU,EACVqC,aAAa,GACbC,QAAQ,KACT/I,IAEHpE,EAAKhB,MAAMK,SAASiC,KAAKtB,EAAK/B,MAAMoD,SAASE,KAAKmL,MAAM,WAAWtH,KAAKhB,GACxEpE,EAAK0E,SAAS,CAAEiF,KAAM,GAAI2C,UAAU,IACpCxF,EAAMQ,kBAlKStH,EAqKnBwJ,YAAc,SAACnH,EAAOsH,GACgBtH,EAA1B0I,IADmB,IACXqC,EADW9N,OAAA+N,EAAA,EAAA/N,CACO+C,EADP,SAG3BrC,EAAKhB,MAAMK,SAASgD,MAAMA,EAAM0I,KAAK/D,IAArC1H,OAAAsC,EAAA,EAAAtC,CAAA,GACO8N,EADP,CAEIzD,OACAiB,SAAU5K,EAAKhB,MAAMK,SAAS2D,YAAY2J,cA3K/B3M,EAmLnBsK,cAAgB,SAAAS,GACZ/K,EAAKhB,MAAMK,SAASgD,MAAM0I,GAAKgC,UApLhB/M,EAuLnBiJ,aAAe,SAACwC,GACZzL,EAAK0E,SAAS,CACV4H,UAAU,EACVb,qBA1LWzL,EA8LnBuL,aAAe,SAAAlH,GACXrE,EAAK0E,SAAS,CAAEiF,KAAMtF,KA/LPrE,EAiMnBsN,WAAc,SAAAxG,GACV9G,EAAK3B,WACLyI,EAAMQ,iBACNtH,EAAK0E,SAAS,CAAE4H,UAAU,KApMXtM,EAwMnB3B,SAAW,WACP2B,EAAKuN,eAAeC,QAAQxD,QAvM5BhK,EAAK/B,MAAQ,CACT0L,KAAM,GACNkC,SAAS,EACTvJ,OAAQ,GACR0J,MAAO,GACPM,UAAU,EACVb,gBAAiB,GACjBgC,SAAU,EACV5C,SAAW7K,EAAKhB,MAAMqC,SAASqM,YAAgBpO,OAAOqO,OAAO3N,EAAKhB,MAAMqC,SAASqM,aAAgB,GACjGjB,MAAQzM,EAAKhB,MAAMqC,SAASuM,SAAatO,OAAOqO,OAAO3N,EAAKhB,MAAMqC,SAASuM,UAAa,GACxF3D,OAASjK,EAAKhB,MAAMqC,SAASwM,UAAcvO,OAAOqO,OAAO3N,EAAKhB,MAAMqC,SAASwM,WAAc,GAC3FxM,SAAYrB,EAAKhB,MAAMqC,UAbZrB,mFAkBfC,KAAK2L,oBACL3L,KAAKoM,2EA6JLpM,KAAKjB,MAAMK,SAASiD,SAASwL,uCA4BxB,IAAA/G,EAC8C9G,KAAKhC,MAAhDqE,EADHyE,EACGzE,OAAQuJ,EADX9E,EACW8E,QAASxK,EADpB0F,EACoB1F,SAAU4I,EAD9BlD,EAC8BkD,OAAO3D,EADrCS,EACqCT,KAC1C,OACQrH,EAAAC,EAAAC,cAAA,WACK0M,GAAW5M,EAAAC,EAAAC,cAAA,0BACZF,EAAAC,EAAAC,cAAA,UAAQmE,QAASrD,KAAKqN,WAAYlK,UAAU,qBACxCnE,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,qBADpB,WAGCnD,KAAKsM,mBAELjK,GACGrD,EAAAC,EAAAC,cAAC4O,GAAD,CACI1M,SAAUA,EACViB,OAAQA,EACRgE,KAAQA,EACRkD,YAAavJ,KAAKuJ,YAClBc,cAAerK,KAAKqK,cACpBvB,UAAY9I,KAAK8I,UACjBI,cAAelJ,KAAKkJ,cACpBF,aAAchJ,KAAKgJ,aACnBW,SAAY3J,KAAK2J,SACjBK,OAAUA,KAIhB3H,GAAUrD,EAAAC,EAAAC,cAAA,8CAtORJ,aCLT4M,GD0PAtG,YACXvG,EACHgG,EAJiB,SAAAzD,GAAQ,QAAMA,IAEjBgE,CAGbsG,aE3PIqC,eACL,SAAAA,EAAYhP,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAA+N,IAClBhO,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAA0O,GAAAnK,KAAA5D,KAAMjB,KA6BPiP,YAAa,SAAA1M,KA5BZvB,EAAK/B,MAAQ,CACZgE,MAAO,GACPX,KAAOtC,EAAMqC,UAJIrB,mFAQC,IAAAsE,EAAArE,KACnBA,KAAKyE,SAAS,CAAEmH,SAAS,IAEzB5L,KAAKjB,MAAMK,SAAS4C,QAAQgK,GAAG,QAAS,SAAAxK,GACvC,IAAMyM,EAAczM,EAASE,MAEvBwM,EAAY7O,OAAO8M,KAAK8B,GAAajD,IAAI,SAAA7G,GAAG,OAAA9E,OAAAsC,EAAA,EAAAtC,CAAA,GAC9C4O,EAAY9J,GADkC,CAEjD7C,IAAK6C,MAGNE,EAAKI,SAAS,CACbzC,MAAOkM,EACPtC,SAAS,qDAMX5L,KAAKjB,MAAMK,SAAS4C,QAAQ6L,uCAOpB,IAAAM,EAAAnO,KACAgC,EAAUhC,KAAKhC,MAAfgE,MACR,OACChD,EAAAC,EAAAC,cAAA,OAAKiE,UAAW,gBACfnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,kBACdnE,EAAAC,EAAAC,cAAA,qBAEDF,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,YACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,uBACdnE,EAAAC,EAAAC,cAAA,SAAOkE,KAAK,OAAOD,UAAU,aAAc2E,YAAY,WACtD9I,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,qBACfnE,EAAAC,EAAAC,cAAA,UAAQkE,KAAK,UAAb,IAAuBpE,EAAAC,EAAAC,cAAA,KAAGiE,UAAU,eAAeiL,cAAY,SAA/D,SAKLpP,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,cACbnB,EAAMgJ,IAAI,SAAA3J,GAAI,OACdrC,EAAAC,EAAAC,cAAA,OAAKiF,IAAK9C,EAAKC,IAAK+B,QAAU,kBAAM8K,EAAKH,YAAY3M,EAAKC,MAAM6B,UAAU,aACzEnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,eACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,YAAf,IAA2BnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,SAAS6D,IAAK3F,EAAK2F,IAAK0D,IAAI,UAAtE,KACA1L,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,WACdnE,EAAAC,EAAAC,cAAA,UAAKmC,EAAK+E,SAAV,IAAoBpH,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,aAAhB,oBA1DNrE,aAqERD,KAAakP,IClEtBM,eAEL,SAAAA,EAAYtP,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAqO,IAClBtO,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAgP,GAAAzK,KAAA5D,KAAMjB,KAMPuP,yBAA2B,WAC1BvO,EAAKhB,MAAMK,SAASuB,gBAAgBZ,EAAK/B,MAAMqD,KAAKlB,QANpDJ,EAAK/B,MAAQ,CACZqD,KAAMtB,EAAKhB,OAHMgB,wEAWV,IACAsB,GAASrB,KAAKhC,OAAU,IAAxBqD,KACHkN,EAAalN,EAAKkN,UAAclP,OAAOqO,OAAOrM,EAAKkN,WAAc,GAChEC,EAAY/I,cAAgBpE,EAAK+E,SACvC,OACCpH,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,QACdnE,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GAAIC,GACTzG,EAAAC,EAAAC,cAAA,OAAK8H,IAAK3F,EAAK2F,IAAK0D,IAAI,QAAQhF,MAAO,CAAE+I,MAAM,WAEhDzP,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GAAIgJ,GACRnN,EAAKgF,OAGRrH,EAAAC,EAAAC,cAAA,KAAGiE,UAAU,SACZnE,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,GAAIgJ,GAAV,IACGnN,EAAK+E,WAGTpH,EAAAC,EAAAC,cAAA,SAAImC,EAAKqN,KACT1P,EAAAC,EAAAC,cAACyP,GAAA,EAAD,CAAMC,WAAS,GACbL,EAAUvD,IAAI,SAAA/I,GAAO,OACrBjD,EAAAC,EAAAC,cAACyP,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAG3K,IAAKlC,EAAQ8M,KAC9B/P,EAAAC,EAAAC,cAAA,OAAK8H,IAAK/E,EAAQ8M,IAAKrE,IAAI,cAAcvH,UAAU,4BApCnCrE,aA6CRD,KAAawP,ICzBbjJ,eACdP,EAHiB,SAAAzD,GAAQ,QAAMA,IAEjBgE,CApBE,kBAChBpG,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACyF,EAAgBxF,SAAjB,KACE,SAAAiC,GAAQ,OACRpC,EAAAC,EAAAC,cAACyP,GAAA,EAAD,CAAMC,WAAS,GACd5P,EAAAC,EAAAC,cAACyP,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb9P,EAAAC,EAAAC,cAAC8P,GAAa5N,IAEhBpC,EAAAC,EAAAC,cAACyP,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACd9P,EAAAC,EAAAC,cAAC+P,GAAD,CAAW7N,SAAYA,+BCXvB8N,eAEF,SAAAA,EAAYnQ,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAkP,IACfnP,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAA6P,GAAAtL,KAAA5D,KAAMjB,KAcVoQ,qBAAuB,SAAAtI,GAAK,OAAI9G,EAAK0E,SAAS,CAAE2B,SAAUS,EAAMW,OAAOpD,SAfpDrE,EAgBnBqP,kBAAoB,kBAAMrP,EAAK0E,SAAS,CAAE4K,aAAa,EAAMC,SAAU,KAhBpDvP,EAiBnBwP,eAAiB,SAAAD,GAAQ,OAAIvP,EAAK0E,SAAS,CAAE6K,cAjB1BvP,EAkBnByP,kBAAoB,SAAAjR,GAChBwB,EAAK0E,SAAS,CAAE4K,aAAa,KAnBdtP,EAqBnB0P,oBAAsB,SAAAC,GAClB3P,EAAK0E,SAAS,CAAEkL,OAAQD,EAAUJ,SAAU,IAAKD,aAAa,IAC9DtP,EAAKhB,MAAMK,SACVsD,MAAM3C,EAAK/B,MAAMqD,KAAKC,IAAI,IAAIoO,GAC9BE,iBACAlS,KAAK,SAAAqR,GACF,IAAI1N,EAAOtB,EAAK/B,MAAMqD,KACtBtB,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAKmL,MAAM,aAAatH,KAAK,CAAC4J,IAAMA,IAClEhP,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAK4F,OAAO,CAACF,IAAM+H,IACjDhP,EAAK0E,SAAS,CAAEoL,UAAYd,OA9BjBhP,EAkCnBuH,SAAW,SAAAT,GACP9G,EAAK0E,SAALpF,OAAAkI,EAAA,EAAAlI,CAAA,GAAiBwH,EAAMW,OAAOnB,KAAOQ,EAAMW,OAAOpD,SAnCnCrE,EAsCnB6G,SAAW,SAAAC,GACP3I,QAAQC,IAAI4B,EAAK/B,MAAMqD,MADP,IAAAyF,EAEsB/G,EAAK/B,MAAnCoI,EAFQU,EAERV,SAASC,EAFDS,EAECT,KAAMlG,EAFP2G,EAEO3G,MAAOuO,EAFd5H,EAEc4H,IAC1BrN,EAAOtB,EAAK/B,MAAMqD,KACtBA,EAAK+E,SAAWA,EAChB/E,EAAKgF,KAAQA,EACbhF,EAAKlB,MAAUA,EACfkB,EAAKqN,IAAMA,EACX3O,EAAKhB,MAAMK,SAASiC,KAAKtB,EAAK/B,MAAMqD,KAAKC,KAAKyF,IAA9C1H,OAAAsC,EAAA,EAAAtC,CAAA,GACOU,EAAK/B,MAAMqD,OACf3D,KAAK,WACJqC,EAAK0E,SAAS,CAAGpD,KAAOA,MAE5BwF,EAAMQ,kBAjDNtH,EAAK/B,MAAQ,CACX0L,KAAM,GACNkC,SAAS,EACTzJ,SAAU,GACV4J,MAAO,EACP1K,KAAOtC,EAAMqC,SACbyO,UAAa9Q,EAAMqC,SAAS4F,IAC5BX,KAAOtH,EAAMqC,SAASiF,KACtBD,SAAWrH,EAAMqC,SAASgF,SAC1BjG,MAAQpB,EAAMqC,SAASjB,MACvBuO,IAAM3P,EAAMqC,SAASsN,KAZR3O,wEAuDnB,IACWsB,EAAQrB,KAAKhC,MAAbqD,KACP,OACIrC,EAAAC,EAAAC,cAAA,QAAM0H,SAAU5G,KAAK4G,UACjB5H,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBACXnE,EAAAC,EAAAC,cAAA,OAAK8H,IAAKhH,KAAKhC,MAAM6R,UAAWnF,IAAI,SAASvH,UAAU,wBAE3DnE,EAAAC,EAAAC,cAAA,OAAMiE,UAAU,aACZnE,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,YAAW7I,EAAAC,EAAAC,cAAA,sBAC1BF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,WAAYjC,MAAOpE,KAAKhC,MAAMoI,SAAWkB,SAAUtH,KAAKsH,SAAUlE,KAAK,OAAQ0E,YAAY,cAEvG9I,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,QAAO7I,EAAAC,EAAAC,cAAA,kBACtBF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,OAAQjC,MAAOpE,KAAKhC,MAAMqI,KAAOiB,SAAUtH,KAAKsH,SAAUlE,KAAK,OAAQ0E,YAAY,UAE/F9I,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,SAAQ7I,EAAAC,EAAAC,cAAA,2BACvBF,EAAAC,EAAAC,cAAA,SAAOmH,KAAK,QAAQjC,MAAOpE,KAAKhC,MAAMmC,MAAOmH,SAAUtH,KAAKsH,SAAUlE,KAAK,OAAO0E,YAAY,kBAE9F9I,EAAAC,EAAAC,cAAA,SAAO2I,QAAQ,OAAM7I,EAAAC,EAAAC,cAAA,iBACrBF,EAAAC,EAAAC,cAAA,YACQmH,KAAK,MACLjC,MAAOpE,KAAKhC,MAAM0Q,IAClBpH,SAAUtH,KAAKsH,WAGvBtI,EAAAC,EAAAC,cAAA,SAAOiE,UAAU,cAAcuC,MAAO,CAACoK,gBAAiB,YAAaC,MAAO,QAAWC,QAAS,WAAhG,6BAEIhR,EAAAC,EAAAC,cAAC+Q,GAAAhR,EAAD,CACAiR,QAAM,EACNC,OAAO,UACPC,WAAYpQ,KAAKjB,MAAMK,SAASsD,MAAMrB,EAAKC,KAC3C+O,cAAerQ,KAAKoP,kBACpBkB,cAAetQ,KAAKwP,kBACpBe,gBAAiBvQ,KAAKyP,oBACtBe,WAAYxQ,KAAKuP,kBAGrBvQ,EAAAC,EAAAC,cAAA,UAASiE,UAAU,cAAeC,KAAK,UAAvC,oBA7FMtE,aAsGXD,KAAaqQ,IC5FbrK,KAFG,SAAAzD,GAAQ,QAAMA,GAEjByD,CAVK,kBACf7F,EAAAC,EAAAC,cAACyF,EAAgBxF,SAAjB,KACE,SAAAiC,GAAQ,OACHpC,EAAAC,EAAAC,cAACuR,GAAD,CAAarP,SAAYA,QCiCtBsP,GArCK,SAAAxN,KACnB9B,SADmB8B,EAEnBf,SAFmBe,EAGnByN,cAHmBzN,EAInB0N,gBAJmB,OAMnB5R,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,SACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,eACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,oBACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,SAAS6D,IAAI,mDAAmD0D,IAAI,WAEpF1L,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,sBACfnE,EAAAC,EAAAC,cAAA,+DAEAF,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,aAAhB,+BAGFnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,YACFnE,EAAAC,EAAAC,cAAA,iDACAF,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,aAAhB,6BAMfnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,YACLnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,mBACZnE,EAAAC,EAAAC,cAAA,SAAOkE,KAAK,OAAOD,UAAU,YAAY2E,YAAY,mBACrD9I,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,eAAeC,KAAK,UAASpE,EAAAC,EAAAC,cAAA,KAAGiE,UAAU,sBAAsBiL,cAAY,cC7BvGyC,eACJ,SAAAA,EAAY9R,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAA6Q,IACjB9Q,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAwR,GAAAjN,KAAA5D,KAAMjB,KAcR+R,oBAAsB,WACpB/Q,EAAK0E,SAAS,CAAEmH,SAAS,IAEzB7L,EAAKhB,MAAMK,SAAS+C,WAAW0J,aAAa,aAAaC,YAAY/L,EAAK/B,MAAM+N,OAC7EC,GAAG,QAAS,SAAAxK,GACX,IAAMuP,EAAgBvP,EAASE,MAE/B,GAAIqP,EAAe,CACvB,IAAMC,EAAc3R,OAAO8M,KAAK4E,GAAe/F,IAAI,SAAA7G,GAAG,OAAA9E,OAAAsC,EAAA,EAAAtC,CAAA,GACnD0R,EAAc5M,GADqC,CAEtD7C,IAAK6C,MAGNpE,EAAK0E,SAAS,CACbtC,SAAU6O,EACVpF,SAAS,SAGT7L,EAAK0E,SAAS,CAAEtC,SAAU,KAAMyJ,SAAS,OAjCxB7L,EA0CnBuL,aAAe,SAAAzE,GACb9G,EAAK0E,SAAS,CAAEiF,KAAM7C,EAAMW,OAAOpD,SA3ClBrE,EA8CnBkR,gBAAkB,SAACpK,EAAOzF,GAExBrB,EAAKhB,MAAMK,SAAS+C,WAAWgD,KAAK,CAClCuE,KAAM3J,EAAK/B,MAAM0L,KACjBI,OAAQ1I,EAASE,IACjBkJ,UAAWzK,EAAKhB,MAAMK,SAAS2D,YAAY2J,YAG7C3M,EAAK0E,SAAS,CAAEiF,KAAM,KAEtB7C,EAAMQ,kBAxDWtH,EA2DnB4Q,cAAgB,SAAC1O,EAASyH,GACYzH,EAA5BX,IADyB,IACjB4P,EADiB7R,OAAA+N,EAAA,EAAA/N,CACG4C,EADH,SAGjClC,EAAKhB,MAAMK,SAAS6C,QAAQA,EAAQX,KAAKyF,IAAzC1H,OAAAsC,EAAA,EAAAtC,CAAA,GACK6R,EADL,CAEExH,OACAiB,SAAU5K,EAAKhB,MAAMK,SAAS2D,YAAY2J,cAjE3B3M,EAqEnB6Q,gBAAkB,SAAAtP,GAChBvB,EAAKhB,MAAMK,SAAS6C,QAAQX,GAAKwL,UAtEhB/M,EAyEnBoR,WAAa,WACXpR,EAAK0E,SACH,SAAAzG,GAAK,MAAK,CAAE+N,MAAO/N,EAAM+N,MAAQ,IACjChM,EAAK+Q,sBAzEP/Q,EAAK/B,MAAQ,CACX0L,KAAM,GACNkC,SAAS,EACTzJ,SAAU,GACV4J,MAAO,GAPQhM,mFAYjBC,KAAK8Q,qEA2BL9Q,KAAKjB,MAAMK,SAAS+C,WAAW0L,uCAyCxB,IAAAxJ,EAAArE,KAAA8G,EAC6B9G,KAAKhC,MAAjC0L,EADD5C,EACC4C,KAAMvH,EADP2E,EACO3E,SAAUyJ,EADjB9E,EACiB8E,QAExB,OACE5M,EAAAC,EAAAC,cAACyF,EAAgBxF,SAAjB,KACG,SAAAiC,GAAQ,OACPpC,EAAAC,EAAAC,cAAA,YACI0M,GAAWzJ,GACXnD,EAAAC,EAAAC,cAAA,UAAQkE,KAAK,SAASC,QAASgB,EAAK8M,YAApC,QAKDvF,GAAW5M,EAAAC,EAAAC,cAAA,0BAEXiD,GACCnD,EAAAC,EAAAC,cAACkS,GAAD,CACEhQ,SAAUA,EACVe,SAAUA,EACVwO,cAAetM,EAAKsM,cACpBC,gBAAiBvM,EAAKuM,mBAIxBzO,GAAYnD,EAAAC,EAAAC,cAAA,wCAEdF,EAAAC,EAAAC,cAAA,QACE0H,SAAU,SAAAC,GAAK,OACbxC,EAAK4M,gBAAgBpK,EAAOzF,KAG9BpC,EAAAC,EAAAC,cAAA,SACEkE,KAAK,OACLgB,MAAOsF,EACPpC,SAAUjD,EAAKiH,eAEjBtM,EAAAC,EAAAC,cAAA,UAAQkE,KAAK,UAAb,mBArHStE,aCAjBuS,ID8HSxS,EAAagS,gBC7H3B,SAAAQ,EAAYtS,GACZ,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAqR,IACCtR,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAgS,GAAAzN,KAAA5D,KAAMjB,KAUL+R,oBAAsB,WACvB/Q,EAAK0E,SAAS,CAAEmH,SAAS,KAZ1B7L,EAkCAuR,cAAe,WAEdvR,EAAKhB,MAAMK,SAAS+C,WAAWgD,KAAK,CACnCqF,UAAWzK,EAAKhB,MAAMK,SAAS2D,YAAY2J,YAE5C3M,EAAKhB,MAAMK,SAASiC,KAAKtB,EAAK/B,MAAMoD,SAASE,KAAKuK,aAAa,SAAS1G,KAAK,CAC5EoM,aAAexR,EAAK/B,MAAMuT,aAAajQ,IACvCkQ,OAAQ,KACRhH,UAAWzK,EAAKhB,MAAMK,SAAS2D,YAAY2J,aAxC5C3M,EAAK/B,MAAM,CACV4N,SAAS,GAHX7L,mFAQCC,KAAK8Q,uDAwCL,OACC9R,EAAAC,EAAAC,cAACyF,EAAgBxF,SAAjB,KACE,SAAAiC,GAAQ,OACRpC,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,aACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,aACdnE,EAAAC,EAAAC,cAAEuS,GAAF,CAAWrQ,SAAUA,IACrBpC,EAAAC,EAAAC,cAAEkS,GAAF,CAAchQ,SAAUA,eAxDHtC,cAqEb+F,KAFG,SAAAzD,GAAQ,QAAMA,GAEjByD,CAA6BwM,ICpE7BK,GAJK,kBACZ1S,EAAAC,EAAAC,cAACyS,EAAD,OCCFC,eACF,SAAAA,EAAY7S,GAAO,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAA4R,IACf7R,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAuS,GAAAhO,KAAA5D,KAAMjB,KAaV4M,kBAAoB,WAChB5L,EAAK0E,SAAS,CAAEmH,SAAS,IAEzB7L,EAAKhB,MAAMK,SAASoD,aAAazC,EAAK/B,MAAMoD,SAAS6F,SAChD6E,YAAY/L,EAAK/B,MAAM+N,OACvBC,GAAG,QAAS,SAAAxK,GACT,IAAMqQ,EAAsBrQ,EAASE,MACrC,GAAImQ,EAAqB,CACrB,IAAMC,EAAoBzS,OAAO8M,KAAK0F,GAAqB7G,IAAI,SAAA7G,GAAG,OAAA9E,OAAAsC,EAAA,EAAAtC,CAAA,GAC3DwS,EAAoB1N,GADuC,CAE9D4N,IAAK5N,MAGTpE,EAAK0E,SAAS,CACVhC,cAAeqP,EACflG,SAAS,SAGb7L,EAAK0E,SAAS,CAAEhC,cAAe,KAAMmJ,SAAS,OA9B1D7L,EAAK/B,MAAQ,CACToD,SAAYrB,EAAKhB,MAAMqC,SACvBqB,cAAe,GACfsJ,MAAQ,GACRH,SAAS,GANE7L,mFAWfC,KAAK2L,qDA2BD,IAAA7E,EAC6B9G,KAAKhC,MAA/ByE,EADHqE,EACGrE,cAAemJ,EADlB9E,EACkB8E,QACtB,OACI5M,EAAAC,EAAAC,cAAA,WACK0M,GAAW5M,EAAAC,EAAAC,cAAA,0BACZF,EAAAC,EAAAC,cAAA,WACKuD,EAAgBA,EAAcuI,IAAI,SAAAxI,GAAY,OAC3CxD,EAAAC,EAAAC,cAAA,OAAKiF,IAAK3B,EAAauP,KACnB/S,EAAAC,EAAAC,cAAA,MAAIwG,MAAO,CAACoK,gBAAiB,cAAetN,EAAaP,SACzDjD,EAAAC,EAAAC,cAAA,cAELgM,UAAYlM,EAAAC,EAAAC,cAAA,uDAlDJJ,aA4DhBsG,eACXvG,EACHgG,EAJiB,SAAAzD,GAAQ,QAAMA,IAEjBgE,CAGbwM,ICrDaI,GAXM,kBACpBhT,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACyF,EAAgBxF,SAAjB,KACE,SAAAiC,GAAQ,OACIpC,EAAAC,EAAAC,cAAC+S,GAAD,CAAkB7Q,SAAUA,QCsC7BiN,eAvCX,SAAAA,EAAYtP,GACZ,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAqO,IACItO,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAAgP,GAAAzK,KAAA5D,KAAMjB,KAOV4K,SAAW,WACP5J,EAAK0E,SAAS,CACVmF,aAAa7J,EAAK/B,MAAM4L,cAE5B7J,EAAKhB,MAAM4K,SAAS5J,EAAK/B,MAAMqD,KAAMtB,EAAK/B,MAAM4L,cAVhD7J,EAAK/B,MAAM,CACPqD,KAAOtB,EAAKhB,MAAMsC,KAClBuI,YAAc7J,EAAKhB,MAAMsC,KAAK6Q,UAJtCnS,wEAgBA,IAAA+G,EACgC9G,KAAKhC,MAA1BqD,EADXyF,EACWzF,KAAMuI,EADjB9C,EACiB8C,YACb,OACI5K,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKwG,MAAO,CAACoK,gBAAkBlG,EAA0B,aAAb,aAA8BzG,UAAU,aAChFnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,eACXnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,YAAf,IAA2BnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,SAAS6D,IAAK3F,EAAK2F,IAAK0D,IAAI,UAAtE,KACA1L,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,WACXnE,EAAAC,EAAAC,cAAA,UAAKmC,EAAK+E,SACVpH,EAAAC,EAAAC,cAAA,SAAImC,EAAKqN,MAET1P,EAAAC,EAAAC,cAAA,UAAQiE,UAAU,gBAAgBC,KAAK,SAASC,QAASrD,KAAK2J,UACxDC,EAAa,SAAU,uBA/BlC9K,aCEjBqT,eACF,SAAAA,EAAYpT,GAAM,IAAAgB,EAAA,OAAAV,OAAAY,EAAA,EAAAZ,CAAAW,KAAAmS,IACdpS,EAAAV,OAAAqE,EAAA,EAAArE,CAAAW,KAAAX,OAAAsE,EAAA,EAAAtE,CAAA8S,GAAAvO,KAAA5D,KAAMjB,KAoBV4M,kBAAoB,WAChB5L,EAAKhB,MAAMK,SAAS4C,QACf8J,YAAY/L,EAAK/B,MAAM+N,OACvBC,GAAG,QAAS,SAAAxK,GACT,IAAMyM,EAAczM,EAASE,MACjC3B,EAAKqS,6BAA6BnE,MA1BxBlO,EA8BlB4J,SAAU,SAAC0I,EAAeH,GACtB,IAAM7Q,EAAOtB,EAAK/B,MAAMoD,SACpB8Q,GAEAnS,EAAKhB,MAAMK,SAASiC,KAAKgR,EAAc/Q,KAAKmL,MAAM,aAAatH,KAAK9D,EAAKC,KACzEvB,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAKmL,MAAM,aAAatH,KAAKkN,EAAc/Q,KACzEvB,EAAKhB,MAAMK,SAASoD,aAAa6P,EAAcpL,SAAS9B,KAAK,CACzD7D,IAAMD,EAAKC,IACXW,QAAU,iBAAkBZ,EAAK+E,SAAS,iBAC1CwG,KAAM,IAEV7M,EAAK/B,MAAMgM,OAAO7E,KAAKkN,EAAc/Q,OAErCvB,EAAKhB,MAAMK,SAASiC,KAAKgR,EAAc/Q,KAAKmL,MAAM,aAAalL,KAAK,QAAS,SAAAC,GACzEA,EAASqL,QAAQ,SAAAJ,GACVA,EAAM/K,QAAQL,EAAKC,KAElBmL,EAAM3K,IAAIgL,aAItB/M,EAAKhB,MAAMK,SAASiC,KAAKA,EAAKC,KAAKmL,MAAM,aAAalL,KAAK,QAAS,SAAAC,GAChEA,EAASqL,QAAQ,SAAAJ,GACVA,EAAM/K,QAAQ2Q,EAAc/Q,KAE3BmL,EAAM3K,IAAIgL,aAItB/M,EAAK/B,MAAMgM,OAAO+C,OAAOhN,EAAK/B,MAAMgM,OAAOgD,QAAQqF,EAAc/Q,KAAM,KA3D7DvB,EA+DlBqS,6BAA+B,SAAAnE,GAE3B,GAAIA,EAAa,CACb,IAAMC,EAAY7O,OAAO8M,KAAK8B,GAAajD,IAAI,SAAA7G,GAAG,OAAA9E,OAAAsC,EAAA,EAAAtC,CAAA,GAC3C4O,EAAY9J,GAD+B,CAE9C7C,IAAK6C,MAEHmO,EAAYvS,EAAK/B,MAAMoD,SAASwM,UAAcvO,OAAOqO,OAAO3N,EAAKhB,MAAMqC,SAASwM,WAAc,GACpGM,EAAUrB,QAAQ,SAAAzI,GACVA,EAAM8N,UAAW,EACwC,IAArDI,EAAWrI,OAAO,SAAAC,GAAE,OAAIA,IAAO9F,EAAM9C,MAAK6I,SAE1C/F,EAAM8N,UAAW,GAElB9N,EAAM9C,MAAQvB,EAAK/B,MAAMoD,SAASE,KAEjC4M,EAAUnB,OAAO3I,EAAO,KAIpCrE,EAAK0E,SAAS,CACVzC,MAAOkM,EACPtC,SAAS,SAGb7L,EAAK0E,SAAS,CAAEzC,MAAO,KAAM4J,SAAS,KAxF5B7L,EA8FlBwS,SAAU,WACNxS,EAAKhB,MAAMK,SAAS4C,QAAQ6J,aAAa,YAAY2G,QAAQzS,EAAK/B,MAAM0L,MAAMnI,KAAK,QAAS,SAAAC,GACxF,IAAMyM,EAAczM,EAASE,MAC7B3B,EAAKqS,6BAA6BnE,KACnCvQ,KAAK,WACJqC,EAAKhB,MAAMK,SAAS4C,QAAQ6L,SAnGlB9N,EAsGlBuL,aAAe,SAAAlH,GACXrE,EAAK0E,SAAS,CAAEiF,KAAMtF,EAAMoD,OAAOpD,QACT,KAAtBA,EAAMoD,OAAOpD,OAEbrE,EAAK4L,qBAxGT5L,EAAK/B,MAAM,CACP4N,SAAU,EACV5J,MAAO,GACP+J,MAAQ,GACRrC,KAAK,GACLtI,SAAWrB,EAAKhB,MAAMqC,SACtB4I,OAASjK,EAAKhB,MAAMqC,SAASwM,UAAcvO,OAAOqO,OAAO3N,EAAKhB,MAAMqC,SAASwM,WAAc,IARjF7N,mFAadC,KAAK2L,mEAKL3L,KAAKjB,MAAMK,SAAS4C,QAAQ6L,uCA4FxB,IAAAxJ,EAAArE,KAAA8G,EACkB9G,KAAKhC,MAApBgE,EADH8E,EACG9E,MAAO0H,EADV5C,EACU4C,KACd,OACI1K,EAAAC,EAAAC,cAAA,OAAKiE,UAAW,gBACZnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,gBAC1BnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,kBACdnE,EAAAC,EAAAC,cAAA,qBAEDF,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,YACdnE,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,uBACOnE,EAAAC,EAAAC,cAAA,SAAOkE,KAAK,OAAOD,UAAU,aAC7BkD,KAAK,OACIjC,MAAOsF,EACZpC,SAAUtH,KAAKsL,aACtBxD,YAAY,WAC7B9I,EAAAC,EAAAC,cAAA,QAAMiE,UAAU,qBACfnE,EAAAC,EAAAC,cAAA,UAAQmE,QAASrD,KAAKuS,SAAUnP,KAAK,UAArC,IAA+CpE,EAAAC,EAAAC,cAAA,KAAGiE,UAAU,eAAeiL,cAAY,SAAvF,SAKOpP,EAAAC,EAAAC,cAAA,OAAKiE,UAAU,cACVnB,EAAMgJ,IAAI,SAAA3J,GAAI,OACPrC,EAAAC,EAAAC,cAACuT,GAAD,CAAYtO,IAAK9C,EAAKC,IACVD,KAAMA,EACNsI,SAAUtF,EAAKsF,aAE5BuB,mBA1ICpM,aAmJbsG,eAASvG,EACvBwG,IADcD,CAEb+M,ICrJIO,oLAEE,IAAMtR,EAAWpB,KAAK2S,QACtB,OACI3T,EAAAC,EAAAC,cAAA,WACGF,EAAAC,EAAAC,cAAC0T,GAAD,CAAexR,SAAUA,YALXtC,aAW7B4T,GAAeG,YAAcvP,EAEdzE,IClBA6T,GDkBA7T,EAAa6T,IEoBbnP,KArBH,kBACXvE,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACCvG,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAC4T,EAAD,MACA9T,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAMiE,UAAU,aACfnE,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOC,OAAK,EAACC,KjCzBM,IiCyBgBC,UAAWxB,KAC9C1S,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KAAMxN,EAAayN,UAAWC,KACrCnU,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KjC1BY,UiC0BUC,UAAWhL,IACxClJ,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KjC1BY,UiC0BUC,UAAWzK,IACxCzJ,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KjCvBc,aiCuBUC,UAAW7B,KAC1CrS,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KjCzBoB,aiCyBUC,UAAW7K,IAChDrJ,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KAAMxN,EAAgByN,UAAWE,KACxCpU,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KjCxBgB,gBiCwBWC,UAAWtB,KAC7C5S,EAAAC,EAAAC,cAAC6T,EAAA,EAAD,CAAOE,KjCxBc,ciCwBWC,UAAWR,8BCxB/CW,IAASC,OACRtU,EAAAC,EAAAC,cAACqU,GAAAtU,EAAD,KACCD,EAAAC,EAAAC,cAACyT,EAAgB/N,SAAjB,CAA0BR,MAAO,IAAItE,GACpCd,EAAAC,EAAAC,cAACsU,GAAD,QAGFC,SAASC,eAAe,SnCOlB,SAAkBpW,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIoW,IAAIC,GAAwB5W,OAAOC,SAAS4W,MACpDC,SAAW9W,OAAOC,SAAS6W,OAIvC,OAGF9W,OAAO+W,iBAAiB,OAAQ,WAC9B,IAAM1W,EAAK,GAAA0E,OAAM6R,GAAN,sBAEP9W,GAgEV,SAAiCO,EAAOC,GAEtC0W,MAAM3W,GACHK,KAAK,SAAAuW,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASI,QACO,MAAfH,IAA8D,IAAvCA,EAAYlH,QAAQ,cAG5CzP,UAAUC,cAAc8W,MAAM5W,KAAK,SAAAC,GACjCA,EAAa4W,aAAa7W,KAAK,WAC7BV,OAAOC,SAASuX,aAKpBpX,EAAgBC,EAAOC,KAG1BgB,MAAM,WACLJ,QAAQC,IACN,mEArFAsW,CAAwBpX,EAAOC,GAI/BC,UAAUC,cAAc8W,MAAM5W,KAAK,WACjCQ,QAAQC,IACN,gHAMJf,EAAgBC,EAAOC,MmChC/BE","file":"static/js/main.e9cd84e3.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const LANDING = '/';\r\nexport const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const HOME = '/home';\r\nexport const ACCOUNT = '/account';\r\nexport const PASSWORD_FORGET = '/pw-forget';\r\nexport const LISTEAMIS = '/listeAmis';\r\nexport const USER = '/user/:id?';\r\nexport const NOTIFICATION ='/notification';\r\nexport const LISTOFUSER ='/listofuser';","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n      {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n  );\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\n\r\nconst config = {\r\n\tapiKey: \"AIzaSyAe7hufjDHedAdKMIeT_MhjN_Oc1X34HoA\",\r\n\tauthDomain: \"superp2-8a0d2.firebaseapp.com\",\r\n\tdatabaseURL: \"https://superp2-8a0d2.firebaseio.com\",\r\n\tprojectId: \"superp2-8a0d2\",\r\n\tstorageBucket: \"superp2-8a0d2.appspot.com\",\r\n\tmessagingSenderId: \"499719922525\",\r\n\tappId: \"1:499719922525:web:cf330b8bb5ce987b\"\r\n};\r\n\r\nclass Firebase {\r\n\tconstructor() {\r\n\t\tapp.initializeApp(config);\r\n\r\n\t\tthis.serverValue = app.database.ServerValue;\r\n\r\n\t\tthis.auth = app.auth();\r\n\t\tthis.db = app.database();\r\n\t\tthis.storage = app.storage();\r\n\t}\r\n\r\n\r\n\tdoCreateUserWithEmailAndPassword = (email, password) =>\r\n\t\tthis.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n\tdoSignInWithEmailAndPassword = (email, password) =>\r\n\t\tthis.auth.signInWithEmailAndPassword(email, password);\r\n\r\n\tdoSignOut = () => this.auth.signOut();\r\n\r\n\tdoPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n\tdoPasswordUpdate = password =>\r\n\t\tthis.auth.currentUser.updatePassword(password);\r\n\r\n\tonAuthUserListener = (next, fallback) =>\r\n\t\tthis.auth.onAuthStateChanged(authUser => {\r\n\t\t\tif (authUser) {\r\n\t\t\t\tthis.user(authUser.uid)\r\n\t\t\t\t\t.once('value')\r\n\t\t\t\t\t.then(snapshot => {\r\n\t\t\t\t\t\tconst dbUser = snapshot.val();\r\n\t\t\t\t\t\tauthUser = {\r\n\t\t\t\t\t\t\tuid: authUser.uid,\r\n\t\t\t\t\t\t\temail: authUser.email,\r\n\t\t\t\t\t\t\temailVerified: authUser.emailVerified,\r\n\t\t\t\t\t\t\t...dbUser,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tnext(authUser);\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tfallback();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tuser = uid => this.db.ref(`users/${uid}`);\r\n\r\n\tusers = () => this.db.ref('users');\r\n\r\n\tmessage = id => this.db.ref(`messages/${id}`);\r\n\r\n\tmessages = () => this.db.ref('messages');\r\n\t\r\n\ttweet = id => this.db.ref(`tweets/${id}`);\r\n\r\n\ttweets = () => this.db.ref('tweets');\r\n\r\n\tchat = id => this.db.ref(`chats/${id}`);\r\n\r\n\tchats = () => this.db.ref(`chats`);\r\n\r\n\tnotification = id => this.db.ref(`notifications/${id}`);\r\n\r\n\tnotifications = () => this.db.ref(`notifications`);\r\n\r\n\timage = id => this.storage.ref(`images/${id}`);\r\n\r\n\timages = () => this.storage.ref(`images`);\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext, {withFirebase} from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n\t<button className=\"signoutbutton\" type=\"button\" onClick={firebase.doSignOut}>\r\n\t\t<span className='fa fa-sign-out'></span> Sign Out\r\n\t</button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: JSON.parse(localStorage.getItem('authUser')),\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.onAuthUserListener(\r\n        authUser => {\r\n          localStorage.setItem('authUser', JSON.stringify(authUser));\r\n          this.setState({ authUser });\r\n        },\r\n        () => {\r\n          localStorage.removeItem('authUser');\r\n          this.setState({ authUser: null });\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      \r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\r\n        if (!condition(authUser)) {\r\n          this.props.history.push(ROUTES.SIGN_IN);\r\n        }\r\n      });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {authUser =>\r\n            condition(authUser) ? <Component {...this.props} /> : null\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React from 'react';\r\n\r\nimport {Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport SignOutButton from '../Sign/SignOut';\r\nimport { AuthUserContext } from '../Session';\r\n\r\nconst Navigation = () => (\r\n\t<header className=\"root\">\r\n\t\t<h1 className=\"fa fa-twitter\">PWA twitter</h1>\r\n\t\t<AuthUserContext.Consumer>\r\n\t\t\t{authUser => authUser ? (\r\n\t\t\t\t\t<NavigationAuth authUser={authUser} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<NavigationNonAuth />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</AuthUserContext.Consumer>\r\n\t</header>\r\n);\r\n\r\nconst NavigationAuth  = ({ authUser }) => (\r\n\t\r\n\t<ul>\r\n\t\t<li>\r\n\t\t\t<Link to={ROUTES.HOME}>Home</Link>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<Link to={ROUTES.ACCOUNT}>Account</Link>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<Link to={ROUTES.LISTEAMIS}>messagerie</Link>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<Link to={ROUTES.NOTIFICATION}>Notification</Link>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<Link to={ROUTES.LISTOFUSER}>Listes des utilisateurs</Link>\r\n\t\t</li>\r\n\t\t\r\n\t\t<li style={{float: 'right'}}>\r\n\t\t\t<SignOutButton />\r\n\t\t</li>\r\n\t</ul>\r\n);\r\n\r\nconst NavigationNonAuth = () => (\r\n\t<ul>\r\n\t\t<li>\r\n\t\t\t<Link to={ROUTES.SIGN_IN}>Sign In</Link>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n\t\t</li>\r\n\t</ul>\r\n);\r\n\t\r\n\t\r\n\t\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport Navigation from '../Navigation';\r\n\r\nconst Header = () => (\r\n    <Navigation />\r\n);\r\nexport default Header;","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst SignUpPage = () => (\r\n  <div>\r\n    <h1>Register</h1>\r\n    <SignUpForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  name: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  isAdmin: false,\r\n  error: null,\r\n};\r\n\r\nconst ERROR_CODE_ACCOUNT_EXISTS = 'le compte existe deja';\r\n\r\nconst ERROR_MSG_ACCOUNT_EXISTS = ` error`;\r\n\r\nclass SignUpFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n     onSubmit = event => {\r\n        const { username,name, email, passwordOne } = this.state;\r\n        this.props.firebase\r\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then(authUser => {\r\n                let uid=authUser.user.uid;\r\n                let src = \"https://firebasestorage.googleapis.com/v0/b/superp2-8a0d2.appspot.com/o/images%2Fdefault_photo%2F250px-Ouisticram-Pt.png?alt=media&token=c48c3326-e329-4faa-838c-40454802b632\";\r\n               this.setState({uid : uid})\r\n                return this.props.firebase.user(authUser.user.uid).set({\r\n                    username,\r\n                    name,\r\n                    email,\r\n                    uid,\r\n                    src,\r\n                });\r\n            })\r\n            .then(() => {\r\n                let notifId = this.props.firebase.notifications().push().key;\r\n                this.props.firebase.user(this.state.uid).update({\r\n                    notifId: notifId\r\n                });\r\n                return this.props.firebase.doSendEmailVerification();\r\n            })\r\n            .then(() => {\r\n                this.setState({ ...INITIAL_STATE });\r\n                this.props.history.push(ROUTES.ACCOUNT);\r\n            })\r\n            .catch(error => {\r\n                if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\r\n                error.message = ERROR_MSG_ACCOUNT_EXISTS;\r\n                }\r\n\r\n                this.setState({ error });\r\n            });\r\n\r\n        event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  onChangeCheckbox = event => {\r\n    this.setState({ [event.target.name]: event.target.checked });\r\n  };\r\n\r\n    render() {\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            passwordTwo,\r\n            error,\r\n            name,\r\n        } = this.state;\r\n\r\n        const   isInvalid =\r\n                passwordOne !== passwordTwo ||\r\n                passwordOne === '' ||\r\n                email === '' ||\r\n                name === '' ||\r\n                username === '';\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <div >\r\n                    <label htmlFor=\"username\"><b>User Name</b></label>\r\n                    <input name=\"username\"  value={username}  onChange={this.onChange} type=\"text\"  placeholder=\"Full Name\"   />\r\n\r\n                    <label htmlFor=\"name\"><b>Name</b></label>\r\n                    <input name=\"name\"  value={name}  onChange={this.onChange} type=\"text\"  placeholder=\" Name\"   />\r\n                    \r\n                    <label htmlFor=\"email\"><b>Email Address</b></label>\r\n                    <input name=\"email\" value={email} onChange={this.onChange} type=\"text\" placeholder=\"Email Address\"  />\r\n                    \r\n                    <label htmlFor=\"passwordOne\"><b>Password</b></label>\r\n                    <input name=\"passwordOne\" value={passwordOne} onChange={this.onChange} type=\"password\" placeholder=\"Password\"  />\r\n                    \r\n                    <label htmlFor=\"passwordTwo\"><b>Confirm Password</b></label>\r\n                    <input name=\"passwordTwo\"  value={passwordTwo} onChange={this.onChange}  type=\"password\" placeholder=\"Confirm Password\"  />\r\n                    \r\n                    <button  className=\"registerbtn\" disabled={isInvalid} type=\"submit\">\r\n                        Sign Up\r\n                    </button>\r\n                    {error && <p>{error.message}</p>}\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\n    const SignUpLink = () => (\r\n        <p>\r\n            Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n        </p>\r\n    );\r\n\r\nconst SignUpForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignUpFormBase);\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst PasswordForgetPage = () => (\r\n  <div>\r\n    <h1>PasswordForget</h1>\r\n    <PasswordForgetForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error } = this.state;\r\n\r\n    const isInvalid = email === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          value={this.state.email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n  <p>\r\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n  </p>\r\n);\r\n\r\nexport default PasswordForgetPage;\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { SignUpLink } from '../SignUp';\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\nimport { PasswordForgetLink } from '../../Password/PasswordForget';\r\n\r\n\tconst SignInPage = () => (\r\n\t\t\t<div >\r\n\t\t\t\t<h1>SignIn</h1>\r\n\t\t\t\t<SignInForm />\r\n\t\t\t\t<PasswordForgetLink />\r\n\t\t\t\t<SignUpLink />\r\n\t\t\t</div>\r\n\t);\r\n\r\nconst INITIAL_STATE = {\r\n\temail: '',\r\n\tpassword: '',\r\n\terror: null,\r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = event => {\r\n\t\tconst { email, password } = this.state;\r\n\t\tthis.props.firebase\r\n\t\t\t.doSignInWithEmailAndPassword(email, password)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t\tthis.props.history.push(ROUTES.HOME);\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tonChange = event => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { email, password, error } = this.state;\r\n\r\n\t\tconst isInvalid = password === '' || email === '';\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={email}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tvalue={password}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button className=\"registerbtn\" disabled={isInvalid} type=\"submit\">\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst SignInForm = compose(\r\n\twithRouter,\r\n\twithFirebase,\r\n)(SignInFormBase);\r\n\r\nexport default SignInPage;\r\n\r\nexport { SignInForm };","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\n\r\nclass TweetItem extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tlet followState = true;\r\n\t\tif (this.props.follow.filter(rt => rt === this.props.tweet.userId).length === 0 )\r\n        {   \r\n\t\t\tfollowState = false;\r\n        }\r\n\t\tthis.state = {\r\n\t\t\tpressFavorite: false,\r\n\t\t\tpressRetweet: false,\r\n\t\t\teditMode: false,\r\n\t\t\tname : this.props.name,\r\n\t\t\teditText: this.props.tweet.text,\r\n\t\t\tfollowTexte : (followState) ?   \"Unfollow\"  : \"Follow\",\r\n\t\t\tfollowState : followState\r\n\t\t};\r\n\t}\r\n\r\n\tonPressRetweet =() => {\r\n\t\tthis.props.onReTweet(this.props.tweet, this.props.authUser);\r\n\t\tthis.setState({\r\n\t\t  pressRetweet: true\r\n\t\t})\r\n\t}\r\n\r\n\tonReplyTweet =() => {\r\n\t\tthis.props.onReplyTweet(this.props.tweet.username);\r\n\t}\r\n\r\n\t \r\n\tonPressFavorite =() => {\r\n\t\tthis.props.onaddFavorite(this.props.tweet, this.props.authUser);\r\n\t\tthis.setState({\r\n\t\t\tpressFavorite: true\r\n\t\t})\r\n\t}\r\n\r\n\tonChangeEditText = event => {\r\n\t\tthis.setState({ editText: event.target.value });\r\n\t  };\r\n\r\n\tonSaveEditText = () => {\r\n\t\tthis.props.onEditTweet(this.props.tweet);\r\n\t\tthis.setState({ editMode: false });\r\n\t   };\r\n\t   \r\n\tonToggleEditMode = () => {\r\n\t\tthis.setState(state => ({\r\n\t\t\teditMode: !state.editMode,\r\n\t\t\teditText: this.props.tweet.text,\r\n\t\t}));\r\n\t};\r\n\t\r\n\tonFollow= () => {\r\n\t\tlet text = \"Follow\";\r\n\t\tif(!this.state.followState)\r\n\t\t{\r\n\t\t\ttext = \"Unfollow\";\r\n\t\t}\r\n\t\tthis.setState(state => ({\r\n\t\t\tfollowState: !state.followState,\r\n\t\t\tfollowTexte : text\r\n\t\t}));\r\n\t\tthis.props.onFollow(this.props.tweet.userId, this.props.authUser);\r\n\t};\r\n\r\n\ttoto = ()=>{\r\n\t\tconsole.log(\"j'ai reussi\");\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst {  tweet, onRemoveTweet} = this.props;\r\n\t\tconst { editMode } = this.state;\r\n\t\tconst dateFormat = moment(tweet.createdAt).fromNow();\r\n\t\treturn (\r\n\t\t\t<div key={tweet.uid} className=\"root_Tweet_item\">\r\n\t\t\t\t<div className=\"user\">\r\n\t\t\t\t\t<span className=\"imgcontainer space\"> \r\n\t\t\t\t\t\t<img src={tweet.src} alt=\"Avatar\" className=\"avatar\" />  \r\n\t\t\t\t\t</span>  \r\n\t\t\t\t\t<span className=\"username space\">   {tweet.username}      {this.state.name}</span>\r\n          \t\t\t<span className=\"date space\">   {dateFormat}</span>\r\n\t\t\t\t\t{tweet.editedAt && <span>(Edited)</span>}\r\n\t\t\t\t\t<button className=\"signoutbutton\" type=\"button\" onClick={this.onFollow}>\r\n\t\t\t\t\t\t{this.state.followTexte}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3>{tweet.text}</h3>\r\n\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t<div className=\"icon_reply\" onClick={this.onReplyTweet} >\r\n\t\t\t\t\t\t<span className='fa fa-reply'>  Reply</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rtGreen space\" onClick={this.onPressRetweet} >\r\n\t\t\t\t\t\t<span className='fa fa-retweet'></span>\r\n\t\t\t\t\t\t<span className=\"number\">{tweet.retweets}   Retweet</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"favYellow space\" onClick={this.onPressFavorite} >\r\n\t\t\t\t\t\t<span className='fa fa-star'></span>\r\n\t\t\t\t\t\t<span className=\"number\">{tweet.like}   Like</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/*\t{editMode ? (\r\n\t\t\t\t\t\t<div className=\"space\">\r\n\t\t\t\t\t\t\t<div className=\"space\" onClick={this.onSaveEditText} >\r\n\t\t\t\t\t\t\t\t<span className='fa fa-save'></span>\r\n\t\t\t\t\t\t\t\t<span className=\"number\">  Save</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"space\" onClick={this.onToggleEditMode} >\r\n\t\t\t\t\t\t\t\t<span className='fa fa-empty-set'></span>\r\n\t\t\t\t\t\t\t\t<span className=\"number\">   Reset</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"space\" onClick={this.onToggleEditMode} >\r\n\t\t\t\t\t\t\t<span className='fa fa-edit'></span>\r\n\t\t\t\t\t\t\t<span className=\"number\">  Edit</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}*/}\r\n\r\n\t\t\t\t\t{!editMode && (\r\n\t\t\t\t\t\t<div className=\" space\" onClick={() => onRemoveTweet(tweet.tid)} >\r\n\t\t\t\t\t\t\t<span className='fas fa-eraser'></span>\r\n\t\t\t\t\t\t\t<span className=\"number\">  Delete</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TweetItem;\r\n","import React from 'react';\r\n\r\nimport TweetItem from './TweetItem';\r\n\r\nconst TweetList = ({\r\n\tauthUser,\r\n\ttweets,\r\n\tonReTweet ,\r\n\tonaddFavorite,\r\n\tonReplyTweet,\r\n\tonEditTweet,\r\n\tonRemoveTweet,\r\n\tonFollow,\r\n\tfollow,\r\n\tname,\r\n}) => (\r\n\t<div className=\"root_listTweet\">\r\n\t\t{tweets.map(tweet => (\r\n\t\t\t<TweetItem \tkey={tweet.tid}\r\n\t\t\t\t\t\tauthUser={authUser}\r\n\t\t\t\t\t\ttweet={tweet}\r\n\t\t\t\t\t\tname = {name}\r\n\t\t\t\t\t\tonReTweet ={onReTweet}\r\n\t\t\t\t\t\tonaddFavorite={onaddFavorite}\r\n\t\t\t\t\t\tonReplyTweet={onReplyTweet}\r\n\t\t\t\t\t\tonEditTweet={onEditTweet}\r\n\t\t\t\t\t\tonRemoveTweet={onRemoveTweet}\r\n\t\t\t\t\t\tonFollow = {onFollow}\r\n\t\t\t\t\t\tfollow = {follow}\r\n\t\t\t/>\r\n\t\t)).reverse()}\r\n\t</div>\r\n);\r\n\r\nexport default TweetList;\r\n","import React, {Component} from 'react';\r\n\r\n\r\nclass TweetInput extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        const pretext = (this.props.userNameToReply) ?  `@${this.props.userNameToReply} `  : '';\r\n        this.state = {\r\n            text: pretext,\r\n            userNameToReply :'toto',\r\n        }\r\n    };\r\n\r\n    onsubmit = event =>{\r\n        this.props.onCreateTweet(event)\r\n        this.setState({ text: '' });\r\n    }\r\n\r\n    onChangeText = event =>\r\n    {\r\n        this.setState({ text: event.target.value });\r\n        this.props.onChangeText(event.target.value);\r\n    }\r\n    \r\n    render()\r\n    {\r\n        const { text, userNameToReply  } = this.state;\r\n        return(\r\n            <form onSubmit={this.onsubmit}>\r\n                <textarea className=\"tweet_text\" \r\n                        name='text'\r\n                        value={text}\r\n                        onChange={this.onChangeText}\r\n                >\r\n                    {(userNameToReply) ? `@${userNameToReply} ` : ''}\r\n                </textarea>\r\n                <div className=\"tweet_button\">\r\n                    <button className=\"tweet_close\" \r\n                            onClick={this.props.onCloseText} >\r\n                        Close\r\n                    </button>\r\n                    <button className=\"tweet_send\" type='submit'> Send </button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default  TweetInput;","import React, { Component } from \"react\"\r\nimport { withFirebase } from '../Firebase';\r\nimport TweetList from './TweetList';\r\nimport TweetInput from \"./TweetInput\";\r\nimport { withAuthorization } from '../Session';\r\nimport { compose } from 'recompose';\r\n\r\nclass TweetPage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { \r\n            text: '',\r\n            loading: false,\r\n            tweets: [],\r\n            limit: 15, \r\n            openText: false,\r\n            userNameToReply: '',\r\n            isReply : false,\r\n            retweets: (this.props.authUser.listRetweet) ?  Object.values(this.props.authUser.listRetweet)  : [],\r\n            likes: (this.props.authUser.listLike) ?  Object.values(this.props.authUser.listLike)  : [],\r\n            follow: (this.props.authUser.following) ?  Object.values(this.props.authUser.following)  : [],\r\n            authUser :  this.props.authUser,\r\n        }   \r\n    };\r\n  \r\n    componentDidMount() {\r\n        this.onListenForTweets();\r\n        this.onListenForUserDataUpdate();\r\n    };\r\n\r\n    onListenForTweets = () => {\r\n        this.setState({ loading: true });\r\n\r\n        this.props.firebase.tweets()\r\n            .orderByChild('createdAt')\r\n            .limitToLast(this.state.limit)\r\n            .on('value', snapshot => {\r\n                    const tweetsObject = snapshot.val();\r\n                    if (tweetsObject) {\r\n                        const tweetsList = Object.keys(tweetsObject).map(key => ({\r\n                            ...tweetsObject[key],\r\n                            tid: key,\r\n                        }));\r\n                    \r\n                        this.setState({\r\n                            tweets: tweetsList,\r\n                            loading: false,\r\n                        });\r\n                    } else {\r\n                        this.setState({ tweets: null, loading: false });\r\n                    }\r\n\r\n            });        \r\n    };\r\n\r\n    onListenForUserDataUpdate=()=>{\r\n        this.props.firebase.user(this.state.authUser.uid).on('value', snapshot=>\r\n        {\r\n            this.setState({\r\n                authUser:snapshot.val(),\r\n            });\r\n        });\r\n           \r\n    }\r\n    \r\n    onCloseText = (event) => {\r\n        event.preventDefault()\r\n        this.setState({ openText: false })\r\n      }\r\n\r\n    renderTweetInput = () => {\r\n        if (this.state.openText) {\r\n            return (\r\n                <TweetInput\r\n                    authUser={this.state.authUser}\r\n                    onChangeText={this.onChangeText}\r\n                    onCreateTweet={this.onCreateTweet}\r\n                    text = {this.state.text}\r\n                    onCloseText={this.onCloseText}\r\n                    userNameToReply = {this.state.userNameToReply}\r\n                />\r\n            )\r\n        }\r\n    };\r\n\r\n\r\n    onaddFavorite = (tweet, user) =>{\r\n        if (this.state.likes.filter(rt => rt === tweet.tid).length === 0 )\r\n        {   \r\n            this.props.firebase.tweet(tweet.tid).child('listLike').push({\r\n                userId: user.uid,\r\n                username: user.username,\r\n            });\r\n            tweet.like++;\r\n            this.props.firebase.tweet(tweet.tid).child('like').set(tweet.like);\r\n            this.props.firebase.user(user.uid).child('listLike').push(tweet.tid);\r\n            this.state.likes.push(tweet.tid);\r\n        }\r\n    }\r\n\r\n  \r\n    onReTweet = (tweet, user) =>{    \r\n        this.state.tweets.push(tweet)\r\n        if (this.state.retweets.filter(rt => rt === tweet.tid).length === 0 )\r\n        {   \r\n            this.props.firebase.tweet(tweet.tid).child('listreTweets').push({\r\n                text: this.state.text,\r\n                userId: user.uid,\r\n                src: user.src,\r\n                username: user.username,\r\n                createdAt: this.props.firebase.serverValue.TIMESTAMP,\r\n                like: 0,\r\n                retweets: 0,\r\n            });\r\n            tweet.retweets++;\r\n            this.props.firebase.tweet(tweet.tid).child('retweets').set(tweet.retweets);\r\n            this.props.firebase.user(user.uid).child('listRetweet').push(tweet.tid);\r\n            this.state.retweets.push(tweet.tid);\r\n        }\r\n       \r\n    }\r\n    \r\n    onFollow= (followingId, user) =>{\r\n        if (this.state.follow.filter(rt => rt === followingId).length === 0 )\r\n        {   \r\n            this.props.firebase.user(followingId).child('followers').push(user.uid);\r\n            this.props.firebase.user(user.uid).child('following').push(followingId);\r\n            this.props.firebase.notification(user.notifId).push({\r\n                uid : user.uid,\r\n                message : \"l'utilisateur vous a follow\",\r\n                vue : false,\r\n            })\r\n            this.state.follow.push(followingId);\r\n        }else{\r\n            this.props.firebase.user(followingId).child(\"followers\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===user.uid)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            this.props.firebase.user(user.uid).child(\"following\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===followingId)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            \r\n            this.state.follow.splice(this.state.follow.indexOf(followingId), 1);\r\n        }\r\n    }\r\n\r\n    onCreateTweet = (event) => {\r\n        let key = this.props.firebase.tweets().push({\r\n            text: this.state.text,\r\n            userId: this.state.authUser.uid,\r\n            username: this.state.authUser.username,\r\n            createdAt: this.props.firebase.serverValue.TIMESTAMP,\r\n            src: this.state.authUser.src,\r\n            like: 0,\r\n            retweets: 0,\r\n            listreTweets:[],\r\n            listFav:[],\r\n        }).key;\r\n\r\n        this.props.firebase.user(this.state.authUser.uid).child('myTweet').push(key);\r\n        this.setState({ text: '', openText: false });\r\n        event.preventDefault();\r\n    };\r\n\r\n    onEditTweet = (tweet, text) => {\r\n        const { tid, ...tweetSnapshot } = tweet;\r\n\r\n        this.props.firebase.tweet(tweet.tid).set({\r\n            ...tweetSnapshot,\r\n            text,\r\n            editedAt: this.props.firebase.serverValue.TIMESTAMP,\r\n        });\r\n    };    \r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.tweets().off();\r\n    };\r\n\r\n    onRemoveTweet = tid => {\r\n        this.props.firebase.tweet(tid).remove();\r\n    };\r\n\r\n    onReplyTweet = (userNameToReply) =>{\r\n        this.setState({ \r\n            openText: true,\r\n            userNameToReply\r\n        });\r\n    }\r\n\r\n    onChangeText = value => {\r\n        this.setState({ text: value });\r\n    };\r\n    onOpenText  = event =>{\r\n        this.onUpdate();\r\n        event.preventDefault()\r\n        this.setState({ openText: true})\r\n      }\r\n\r\n\r\n    onUpdate = () =>{\r\n        this.changeStateabc.current.toto();\r\n    }\r\n\r\n    render() {\r\n        const { tweets, loading, authUser, follow,name } = this.state;\r\n        return (\r\n                <div>\r\n                    {loading && <div>Loading ...</div>}  \r\n                    <button onClick={this.onOpenText} className=\"open_button_tweet\">\r\n                        <span className='fa fa-lg fa-edit'></span> Tweet!\r\n                    </button>\r\n                    {this.renderTweetInput()}\r\n\r\n                    {tweets && (\r\n                        <TweetList\r\n                            authUser={authUser}\r\n                            tweets={tweets}\r\n                            name = {name}\r\n                            onEditTweet={this.onEditTweet}\r\n                            onRemoveTweet={this.onRemoveTweet}\r\n                            onReTweet ={this.onReTweet}\r\n                            onaddFavorite={this.onaddFavorite}\r\n                            onReplyTweet={this.onReplyTweet}\r\n                            onFollow = {this.onFollow}\r\n                            follow = {follow}\r\n                        />\r\n                    )}\r\n\r\n                    {!tweets && <div>Aucun tweet trouver ...</div>}\r\n                \r\n\r\n                    \r\n                </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default compose(\r\n    withFirebase,\r\n\twithAuthorization(condition),\r\n)(TweetPage);\r\n","import TweetPage from './TweetPage';\r\n\r\nexport default TweetPage ;","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nclass UserList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusers: [],\r\n\t\t\tuser : props.authUser\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ loading: true });\r\n\r\n\t\tthis.props.firebase.users().on('value', snapshot => {\r\n\t\t\tconst usersObject = snapshot.val();\r\n\r\n\t\t\tconst usersList = Object.keys(usersObject).map(key => ({\r\n\t\t\t\t...usersObject[key],\r\n\t\t\t\tuid: key,\r\n\t\t\t}));\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tusers: usersList,\r\n\t\t\t\tloading: false,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.firebase.users().off();\r\n\t}\r\n\r\n\tchangeColor= uid => {\r\n\t\t\r\n    }\r\n\r\n\trender() {\r\n\t\tconst { users } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className= \"inbox_people\">\r\n\t\t\t\t<div className=\"headind_srch\">\r\n\t\t\t\t\t<div className=\"recent_heading\">\r\n\t\t\t\t\t\t<h4>Recent</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"srch_bar\">\r\n\t\t\t\t\t\t<div className=\"stylish-input-group\">\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"search-bar\"  placeholder=\"Search\" />\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-addon\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\"> <i className=\"fa fa-search\" aria-hidden=\"true\"></i> </button>\r\n\t\t\t\t\t\t\t\t</span> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inbox_chat\">\r\n\t\t\t\t\t{users.map(user => (\r\n\t\t\t\t\t\t<div key={user.uid} onClick={ () => this.changeColor(user.uid)} className=\"chat_list\">\r\n\t\t\t\t\t\t\t<div className=\"chat_people\">\r\n\t\t\t\t\t\t\t\t<div className=\"chat_img\"> <img className=\"avatar\" src={user.src} alt=\"sunil\"/> </div>\r\n\t\t\t\t\t\t\t\t<div className=\"chat_ib\">\r\n\t\t\t\t\t\t\t\t\t<h5>{user.username} <span className=\"chat_date\"> </span></h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withFirebase(UserList);\r\n\r\n\r\n/*:\r\n\r\n\r\n\r\n\t\t\t\t<ul style={{background_color: '#FFF'}}>\r\n\t\t\t\t\t\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n*/","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport {Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nclass UserCard extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\t\t\r\n\t\tthis.state = {\r\n\t\t\tuser: this.props,\r\n\t\t};   \r\n\t}\r\n\t\r\n\tonSendPasswordResetEmail = () => {\r\n\t\tthis.props.firebase.doPasswordReset(this.state.user.email);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { user } = this.state ||  [];\r\n\t\tlet  listPhoto = (user.listPhoto) ?  Object.values(user.listPhoto)  : [] ;\r\n\t\tconst userRoute = ROUTES.USER+\"/\"+user.username;\r\n\t\treturn (\r\n\t\t\t<div className=\"card\">\r\n\t\t\t\t<Link to={ROUTES.ACCOUNT}>\r\n\t\t\t\t\t<img src={user.src} alt=\"singe\" style={{ width:'100%' }}/>  \r\n\t\t\t\t</Link>\r\n\t\t\t\t<h1>\r\n\t\t\t\t\t<Link to={userRoute}>\r\n\t\t\t\t\t\t{user.name}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</h1>\r\n\t\t\t\t<p className=\"title\">\r\n\t\t\t\t\t<Link to={userRoute}>\r\n\t\t\t\t\t\t@{user.username}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>{user.bio}</p>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t{listPhoto.map(message => (\r\n\t\t\t\t\t\t<Grid item xs={4} key={message.url}>\r\n\t\t\t\t\t\t\t<img src={message.url} alt=\"User_card_P\" className=\"user_card_P\" />   \r\n\t\t\t\t\t\t</Grid>\t\r\n\t\t\t\t\t))}\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withFirebase(UserCard);","import React from 'react';\r\nimport TweetPage from '../TweetPage';\r\nimport { compose } from 'recompose';\r\nimport { AuthUserContext } from '../Session';\r\nimport { Grid } from '@material-ui/core';\r\nimport { withAuthorization } from '../Session';\r\nimport { UserCard } from '../User';\r\nconst HomePage = () => (\r\n\t<div>\r\n\t\t<AuthUserContext.Consumer>\r\n\t\t\t{authUser => (\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t \t<UserCard {...authUser}/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={9}>\r\n\t\t\t\t\t\t<TweetPage authUser = {authUser} />\r\n\t\t\t\t\t</Grid>\t\t\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</AuthUserContext.Consumer>\r\n\t\t\t\r\n\t</div>\r\n);\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default compose(\r\n\twithAuthorization(condition),\r\n)(HomePage);\r\n\r\n","import React, { Component } from \"react\";\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nclass UserAccount extends Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          text: '',\r\n          loading: false,\r\n          messages: [],\r\n          limit: 5,\r\n          user : props.authUser,\r\n          avatarURL :  props.authUser.src,\r\n          name : props.authUser.name, \r\n          username : props.authUser.username, \r\n          email : props.authUser.email, \r\n          bio : props.authUser.bio, \r\n        };\r\n      }\r\n    handleChangeUsername = event => this.setState({ username: event.target.value });\r\n    handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\r\n    handleProgress = progress => this.setState({ progress });\r\n    handleUploadError = error => {\r\n        this.setState({ isUploading: false });\r\n    };\r\n    handleUploadSuccess = filename => {\r\n        this.setState({ avatar: filename, progress: 100, isUploading: false });\r\n        this.props.firebase\r\n        .image(this.state.user.uid+'/'+filename)\r\n        .getDownloadURL()\r\n        .then(url => {\r\n            let user = this.state.user;\r\n            this.props.firebase.user(user.uid).child('listPhoto').push({url : url});\r\n            this.props.firebase.user(user.uid).update({src : url});\r\n            this.setState({ avatarURL : url})\r\n        });\r\n    };\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n      }; \r\n\r\n    onSubmit = event => {\r\n        console.log(this.state.user)\r\n        const { username,name, email, bio } = this.state;\r\n        let user = this.state.user;\r\n        user.username = username;\r\n        user.name =  name;\r\n        user.email =   email;\r\n        user.bio = bio;\r\n        this.props.firebase.user(this.state.user.uid).set({\r\n            ...this.state.user\r\n        }).then(() => {\r\n            this.setState({  user : user})\r\n        });\r\n        event.preventDefault();\r\n    };\r\n \r\n    render()\r\n    {\r\n        const {user} = this.state;\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <div className=\"imgcontainer\">\r\n                    <img src={this.state.avatarURL} alt=\"Avatar\" className=\"avatar_cardVersion\" />\r\n                </div>\r\n                <div  className=\"container\">\r\n                    <label htmlFor=\"username\"><b>UserName</b></label>\r\n                    <input name=\"username\"  value={this.state.username}  onChange={this.onChange} type=\"text\"  placeholder=\"Full Name\"   />\r\n                    \r\n                    <label htmlFor=\"name\"><b>Name</b></label>\r\n                    <input name=\"name\"  value={this.state.name}  onChange={this.onChange} type=\"text\"  placeholder=\" Name\"   />\r\n                    \r\n                    <label htmlFor=\"email\"><b>Email Address</b></label>\r\n                    <input name=\"email\" value={this.state.email} onChange={this.onChange} type=\"text\" placeholder=\"Email Address\"  />\r\n                    \r\n                    <label htmlFor=\"bio\"><b>bio</b></label>\r\n                    <textarea \r\n                            name='bio'\r\n                            value={this.state.bio}\r\n                            onChange={this.onChange}\r\n                    ></textarea>\r\n                   \r\n                    <label className=\"registerbtn\" style={{backgroundColor: 'steelblue', color: 'white',   pointer: 'cursor'}}>\r\n                        Select your awesome avatar\r\n                        <FileUploader\r\n                        hidden\r\n                        accept=\"image/*\"\r\n                        storageRef={this.props.firebase.image(user.uid)}\r\n                        onUploadStart={this.handleUploadStart}\r\n                        onUploadError={this.handleUploadError}\r\n                        onUploadSuccess={this.handleUploadSuccess}\r\n                        onProgress={this.handleProgress}\r\n                        />\r\n                    </label>\r\n                    <button  className=\"registerbtn\"  type=\"submit\">\r\n                        Valider\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withFirebase(UserAccount);","import React from 'react';\r\n\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\n\r\nimport UserAccount from \"./userAccout\";\r\nconst AccountPage = () => (\r\n     <AuthUserContext.Consumer> \r\n      {authUser => (\r\n            <UserAccount authUser = {authUser}/>\r\n        )}\r\n     </AuthUserContext.Consumer>\r\n);\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(AccountPage);","import React from 'react';\r\n\r\n//import MessageItem from './MessageItem';\r\n\r\nconst MessageList = ({\r\n\tauthUser,\r\n\tmessages,\r\n\tonEditMessage,\r\n\tonRemoveMessage,\r\n}) => (\r\n\t<div className=\"mesgs\">\r\n\t\t<div className=\"msg_history\">\r\n\t\t\t<div className=\"incoming_msg\">\r\n\t\t\t\t<div className=\"incoming_msg_img\"> \r\n\t\t\t\t\t<img className=\"avatar\" src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> \r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"received_msg\">\r\n\t\t\t\t\t<div className=\"received_withd_msg\">\r\n\t\t\t\t\t<p>Test which is a new approach to have all\r\n\t\t\t\t\t\tsolutions</p>\r\n\t\t\t\t\t<span className=\"time_date\"> 11:01 AM    |    June 9</span></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"incoming_msg\">\r\n\t\t\t\t<div className=\"sent_msg\">\r\n                \t<p>Apollo University, Delhi, India Test</p>\r\n                \t<span className=\"time_date\">\r\n\t\t\t\t\t\t11:01 AM    |    Today\r\n\t\t\t\t\t</span> \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div className=\"type_msg\">\r\n            <div className=\"input_msg_write\">\r\n              \t<input type=\"text\" className=\"write_msg\" placeholder=\"Type a message\" />\r\n              \t<button className=\"msg_send_btn\" type=\"button\"><i className=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\r\n            </div>\r\n        </div>\r\n\t</div>\r\n);\r\n\r\nexport default MessageList;\r\n\r\n\r\n/*\r\n\t<ul>\r\n\t\t{messages.map(message => (\r\n\t\t\t<MessageItem\r\n\t\t\t\tauthUser={authUser}\r\n\t\t\t\tkey={message.uid}\r\n\t\t\t\tmessage={message}\r\n\t\t\t\tonEditMessage={onEditMessage}\r\n\t\t\t\tonRemoveMessage={onRemoveMessage}\r\n\t\t\t/>\r\n\t\t))}\r\n\t</ul>\r\n\r\n*/","import React, { Component } from 'react';\r\n\r\nimport { AuthUserContext } from '../Session';\r\nimport { withFirebase } from '../Firebase';\r\nimport MessageList from './MessageList';\r\n\r\nclass Messages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      text: '',\r\n      loading: false,\r\n      messages: [],\r\n      limit: 5,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.onListenForMessages();\r\n  }\r\n\r\n  onListenForMessages = () => {\r\n    this.setState({ loading: true });\r\n\r\n    this.props.firebase.messages().orderByChild('createdAt').limitToLast(this.state.limit)\r\n      .on('value', snapshot => {\r\n        const messageObject = snapshot.val();\r\n\r\n        if (messageObject) {\r\n\t\t\t\tconst messageList = Object.keys(messageObject).map(key => ({\r\n\t\t\t\t...messageObject[key],\r\n\t\t\t\tuid: key,\r\n\t\t\t}));\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tmessages: messageList,\r\n\t\t\t\tloading: false,\r\n\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ messages: null, loading: false });\r\n\t\t\t}\r\n      });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.messages().off();\r\n  }\r\n\r\n  onChangeText = event => {\r\n    this.setState({ text: event.target.value });\r\n  };\r\n\r\n  onCreateMessage = (event, authUser) => {\r\n    \r\n    this.props.firebase.messages().push({\r\n      text: this.state.text,\r\n      userId: authUser.uid,\r\n      createdAt: this.props.firebase.serverValue.TIMESTAMP,\r\n    });\r\n\r\n    this.setState({ text: '' });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onEditMessage = (message, text) => {\r\n    const { uid, ...messageSnapshot } = message;\r\n\r\n    this.props.firebase.message(message.uid).set({\r\n      ...messageSnapshot,\r\n      text,\r\n      editedAt: this.props.firebase.serverValue.TIMESTAMP,\r\n    });\r\n  };\r\n\r\n  onRemoveMessage = uid => {\r\n    this.props.firebase.message(uid).remove();\r\n  };\r\n\r\n  onNextPage = () => {\r\n    this.setState(\r\n      state => ({ limit: state.limit + 5 }),\r\n      this.onListenForMessages,\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { text, messages, loading } = this.state;\r\n\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {authUser => (\r\n          <div>\r\n            {!loading && messages && (\r\n              <button type=\"button\" onClick={this.onNextPage}>\r\n                More\r\n              </button>\r\n            )}\r\n\r\n            {loading && <div>Loading ...</div>}\r\n\r\n            {messages && (\r\n              <MessageList\r\n                authUser={authUser}\r\n                messages={messages}\r\n                onEditMessage={this.onEditMessage}\r\n                onRemoveMessage={this.onRemoveMessage}\r\n              />\r\n            )}\r\n\r\n            {!messages && <div>There are no messages ...</div>}\r\n\r\n            <form\r\n              onSubmit={event =>\r\n                this.onCreateMessage(event, authUser)\r\n              }\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                value={text}\r\n                onChange={this.onChangeText}\r\n              />\r\n              <button type=\"submit\">Send</button>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </AuthUserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(Messages);","import React,{Component} from 'react';\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\nimport {UserList} from '../User';\r\nimport {MessageList} from '../Messages';\r\n\r\n\r\nclass ListeAmisPage extends Component{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\tloading: true\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.onListenForMessages();\r\n\t  }\r\n\t\r\n\t  onListenForMessages = () => {\r\n\t\tthis.setState({ loading: true });\r\n\t\r\n\t\t/*this.props.firebase.messages().orderByChild('createdAt').limitToLast(this.state.limit)\r\n\t\t  .on('value', snapshot => {\r\n\t\t\tconst messageObject = snapshot.val();\r\n\t\r\n\t\t\tif (messageObject) {\r\n\t\t\t\t\tconst messageList = Object.keys(messageObject).map(key => ({\r\n\t\t\t\t\t...messageObject[key],\r\n\t\t\t\t\tuid: key,\r\n\t\t\t\t}));\r\n\t\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tmessages: messageList,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ messages: null, loading: false });\r\n\t\t\t\t}\r\n\t\t  });*/\r\n\t  };\r\n\t\r\n\tonSendMessage= ()=>\r\n\t{\r\n\t\tthis.props.firebase.messages().push({\r\n\t\t\tcreatedAt: this.props.firebase.serverValue.TIMESTAMP,\r\n\t\t});\r\n\t\tthis.props.firebase.user(this.state.authUser.uid).orderByChild('chats').push({\r\n\t\t\tdestinataire : this.state.destinataire.uid,\r\n\t\t\tchatid: \"dd\",\r\n\t\t\tcreatedAt: this.props.firebase.serverValue.TIMESTAMP,\r\n\t\t})\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\treturn(\r\n\t\t\t<AuthUserContext.Consumer>\t\r\n\t\t\t\t{authUser => (\r\n\t\t\t\t\t<div className=\"messaging\">\t\r\n\t\t\t\t\t\t<div className=\"inbox_msg\">\r\n\t\t\t\t\t\t\t< UserList authUser={authUser}/>  \r\n\t\t\t\t\t\t\t< MessageList authUser={authUser} /> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</AuthUserContext.Consumer>\r\n\t\t)\r\n\t}\r\n\t\r\n\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(ListeAmisPage);\r\n","import React from 'react';\r\nimport SignInPage from '../Sign/SignIn';\r\n\r\nconst LandingPage = () => (\r\n        <SignInPage/>\r\n);\r\n\r\nexport default LandingPage;","import React, { Component } from \"react\"\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\nimport {  withAuthorization } from '../Session';\r\n//AuthUserContext\r\nclass NotificationPage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { \r\n            authUser :  this.props.authUser,\r\n            notifications: [],\r\n            limit : 20,\r\n            loading: true,\r\n        }   \r\n    };\r\n  \r\n    componentDidMount() {\r\n        this.onListenForTweets();\r\n    };\r\n\r\n    onListenForTweets = () => {\r\n        this.setState({ loading: true });\r\n\r\n        this.props.firebase.notification(this.state.authUser.notifId)\r\n            .limitToLast(this.state.limit)\r\n            .on('value', snapshot => {\r\n                const notificationsObject = snapshot.val();\r\n                if (notificationsObject) {\r\n                    const notificationsList = Object.keys(notificationsObject).map(key => ({\r\n                        ...notificationsObject[key],\r\n                        nid: key,\r\n                    }));\r\n                \r\n                    this.setState({\r\n                        notifications: notificationsList,\r\n                        loading: false,\r\n                    });\r\n                } else {\r\n                    this.setState({ notifications: null, loading: false });\r\n                }\r\n\r\n        });\r\n    };\r\n\r\n    render(){\r\n        const {notifications, loading} = this.state;\r\n        return(\r\n            <div>\r\n                {loading && <div>Loading ...</div>}  \r\n                <div >\r\n                    {notifications ? notifications.map(notification => (\r\n                        <div key={notification.nid}>\r\n                            <li style={{backgroundColor: \"lightblue\"}}>{notification.message}</li>\r\n                            <br/>\r\n                        </div>\r\n                    )).reverse() : <div>Vous n'avez aucune notification</div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default compose(\r\n    withFirebase,\r\n\twithAuthorization(condition),\r\n)(NotificationPage);\r\n","import NotificationPage from \"./NotificationPage\";\r\nimport { AuthUserContext } from '../Session';\r\nimport React from 'react';\r\n\r\nconst Notification = () => (\r\n\t<div>\r\n\t\t<AuthUserContext.Consumer>\r\n\t\t\t{authUser => (\r\n                <NotificationPage authUser={authUser}/>\r\n\t\t\t)}\r\n\t\t</AuthUserContext.Consumer>\r\n\t\t\t\r\n\t</div>\r\n);\r\n\r\nexport default Notification;\r\n","import React,{Component} from \"react\";\r\n\r\n//import {Link } from 'react-router-dom';\r\n//import * as ROUTES from '../../constants/routes';\r\n\r\nclass UserCard extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        this.state={\r\n            user : this.props.user,\r\n            followState : this.props.user.isFollow,\r\n        }\r\n    }\r\n\r\n    onFollow = () =>{\r\n        this.setState({\r\n            followState:!this.state.followState\r\n        })\r\n        this.props.onFollow(this.state.user, this.state.followState)\r\n    }\r\n\r\n    render()\r\n    {\r\n        const {user, followState} = this.state;\r\n        return(\r\n            <div>\r\n                <div style={{backgroundColor: !followState? \"lightblue\" :\"lightgreen\"  }} className=\"chat_list\">\r\n                    <div className=\"chat_people\">\r\n                        <div className=\"chat_img\"> <img className=\"avatar\" src={user.src} alt=\"sunil\"/> </div>\r\n                        <div className=\"chat_ib\">\r\n                            <h5>{user.username} \r\n                            <p>{user.bio}</p>\r\n                            </h5>\r\n                            <button className=\"signoutbutton\" type=\"button\" onClick={this.onFollow}>\r\n                                { followState? \"Follow\" :\"Unfollow\"  }\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserCard;  ","import React, {Component} from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport UserCard from './UserCard';\r\n\r\nclass ListOfAllUser extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            loading : true,\r\n            users :[],\r\n            limit : 20,\r\n            text:'',\r\n            authUser : this.props.authUser,\r\n            follow: (this.props.authUser.following) ?  Object.values(this.props.authUser.following)  : []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onListenForTweets();\r\n    };\r\n\r\n    \r\n    componentWillUnmount() {\r\n        this.props.firebase.users().off();\r\n    };\r\n\r\n    onListenForTweets = () => {\r\n        this.props.firebase.users()\r\n            .limitToLast(this.state.limit)\r\n            .on('value', snapshot => {\r\n                const usersObject = snapshot.val();    \r\n            this.convertFirebaseObjectToArray(usersObject)\r\n        });        \r\n    };\r\n\r\n    onFollow= (followingUser, isFollow) =>{\r\n        const user = this.state.authUser;\r\n        if (isFollow)\r\n        {   \r\n            this.props.firebase.user(followingUser.uid).child('followers').push(user.uid);\r\n            this.props.firebase.user(user.uid).child('following').push(followingUser.uid);\r\n            this.props.firebase.notification(followingUser.notifId).push({\r\n                uid : user.uid,\r\n                message : \"l'utilisateur \"+ user.username+\" vous a follow\",\r\n                vue : false,\r\n            })\r\n            this.state.follow.push(followingUser.uid);\r\n        }else{\r\n            this.props.firebase.user(followingUser.uid).child(\"followers\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===user.uid)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            this.props.firebase.user(user.uid).child(\"following\").once('value', snapshot => {\r\n                snapshot.forEach(child =>{\r\n                    if(child.val()===followingUser.uid)\r\n                    {\r\n                        child.ref.remove();\r\n                    }\r\n                });\r\n            })\r\n            this.state.follow.splice(this.state.follow.indexOf(followingUser.uid), 1);\r\n        }\r\n    }\r\n\r\n    convertFirebaseObjectToArray = usersObject =>\r\n    {\r\n        if (usersObject) {\r\n            const usersList = Object.keys(usersObject).map(key => ({\r\n                ...usersObject[key],\r\n                uid: key,\r\n            }));\r\n            const arrayFolow=(this.state.authUser.following) ?  Object.values(this.props.authUser.following)  : [];\r\n            usersList.forEach(value =>{\r\n                    value.isFollow = false;\r\n                    if (arrayFolow.filter(rt => rt === value.uid).length === 0 )\r\n                    {   \r\n                        value.isFollow = true;\r\n                    }\r\n                    if(value.uid === this.state.authUser.uid)\r\n                    {\r\n                        usersList.splice(value, 1);\r\n                    }\r\n                }\r\n            )\r\n            this.setState({\r\n                users: usersList,\r\n                loading: false,\r\n            });\r\n        } else {\r\n            this.setState({ users: null, loading: false });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onSearch= ()=>{\r\n        this.props.firebase.users().orderByChild('username').equalTo(this.state.text).once(\"value\", snapshot=>{\r\n            const usersObject = snapshot.val();\r\n            this.convertFirebaseObjectToArray(usersObject)\r\n        }).then(() => {\r\n            this.props.firebase.users().off();\r\n        });\r\n    }\r\n    onChangeText = value =>{\r\n        this.setState({ text: value.target.value });\r\n        if( value.target.value ==='')\r\n        {\r\n            this.onListenForTweets();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {users, text} = this.state;\r\n        return(\r\n            <div className= \"inbox_people\">\r\n                <div className=\"headind_srch\">\r\n\t\t\t\t\t<div className=\"recent_heading\">\r\n\t\t\t\t\t\t<h4>Recent</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"srch_bar\">\r\n\t\t\t\t\t\t<div className=\"stylish-input-group\">\r\n                            <input type=\"text\" className=\"search-bar\"  \r\n                            name='text'\r\n                                     value={text}\r\n                                onChange={this.onChangeText}\r\n                         placeholder=\"Search\" />\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-addon\">\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.onSearch} type=\"button\"> <i className=\"fa fa-search\" aria-hidden=\"true\"></i> </button>\r\n\t\t\t\t\t\t\t\t</span> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n                <div className=\"inbox_chat\">\r\n                    {users.map(user=> (     \r\n                            <UserCard   key={user.uid} \r\n                                        user={user}\r\n                                        onFollow={this.onFollow}\r\n                                        />\r\n                        )).reverse()\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default compose( withFirebase,\r\n\twithRouter,\r\n)(ListOfAllUser);\r\n","import React, {Component} from 'react';\r\nimport { AuthUserContext } from '../Session';\r\nimport ListOfAllUser from './ListOfAllUser';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\n\r\nclass ListOfUserPage extends Component{\r\n    render(){\r\n        const authUser = this.context;\r\n        return(\r\n            <div>\r\n               <ListOfAllUser authUser={authUser}/> \r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nListOfUserPage.contextType = AuthUserContext;\r\n\r\nexport default withFirebase(ListOfUserPage);","import ListOfUserPage from \"./ListOfUserPage\";\r\n\r\nexport default ListOfUserPage;","import React from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport Header from '../Header';\r\nimport SignUpPage from '../Sign/SignUp';\r\nimport SignInPage from '../Sign/SignIn';\r\nimport PasswordForgetPage from '../Password/PasswordForget';\r\nimport HomePage from '../Home';\r\nimport AccountPage from '../Account';\r\nimport ListeAmisPage from '../ListeDesAmis';\r\nimport LandingPage from '../Landing';\r\nimport NotificationPage from '../Notification';\r\nimport ListOfUserPage from '../ListOfUsers';\r\n\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n\r\nconst App = () => (\r\n\t<Router>\r\n\t\t<div>\r\n\t\t\t<Header />\r\n\t\t\t<hr />\r\n\t\t\t<div  className=\"container\">\r\n\t\t\t\t<Route exact path={ROUTES.LANDING} component={LandingPage} />\r\n\t\t\t\t<Route path={ROUTES.HOME} component={HomePage} />\r\n\t\t\t\t<Route path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n\t\t\t\t<Route path={ROUTES.SIGN_IN} component={SignInPage} />\r\n\t\t\t\t<Route path={ROUTES.LISTEAMIS} component={ListeAmisPage} />\r\n\t\t\t\t<Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage}\t/>\r\n\t\t\t\t<Route path={ROUTES.ACCOUNT} component={AccountPage} />\r\n\t\t\t\t<Route path={ROUTES.NOTIFICATION} component={NotificationPage} />\r\n\t\t\t\t<Route path={ROUTES.LISTOFUSER} component={ListOfUserPage} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</Router>\r\n);\r\n\r\n\r\nexport default withAuthentication(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport App from \"../src/components/App\"\r\nimport Firebase, { FirebaseContext } from './components/Firebase';\r\nimport HttpsRedirect from 'react-https-redirect';\r\n\r\nReactDOM.render(\r\n\t<HttpsRedirect>\r\n\t\t<FirebaseContext.Provider value={new Firebase()}>\r\n\t\t\t<App />\r\n\t\t</FirebaseContext.Provider>\r\n\t</HttpsRedirect>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\nserviceWorker.register();\r\n\r\n"],"sourceRoot":""}